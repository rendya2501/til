# ハードウェア

AND,OR,XOR

![!](https://pays-tarusate.org/content/operators/what-are-xand-and-xor.jpeg)  

[論理式](https://www.eonet.ne.jp/~imagawa/denki_kiso/ronrishiki.html)  

交換の法則 : $A+B=B+A$ , $A*B=B*A$  
結合の法則 : $A+(B+C)=(A+B)+C$ , $A*(B*C)=(A*B)*C$  
恒等の法則 : $A+1=1$ , $A*1=A$ , $A+0=A$ , $A*0=0$  
同一の法則 : $A+A=A$ , $A*A=A$  
補元の法則 : $A+\bar{A}=1$ , $A*\bar{A}=0$  
復元の法則 : $\bar{\bar{A}}=A$  
ド・モルガンの法則 : $\bar{A} \bar{+}\bar{B}=\bar{A}*\bar{B}$ , $\bar{A}\bar{*}\bar{B}=\bar{A}+\bar{B}$  
分配の法則 : $A*(B+C)=A*B+A*C$  
吸収の法則 : $A+A*B=A$ , $A(A+B)=A$  

## ハードウェア

### 直流給電

屋内配線を直流化し、電気製品への電源供給を直流で行うことです。  
サーバやネットワーク機器などのコンピュータをはじめ、家庭内のほとんどの電気製品は直流電源で動作しています。  
一方、家庭やオフィスでは交流電源が供給されています。  
電気機器は、内部のコンバータで交流を直流に変換するのですが、この変換効率は80%程度しかありません。  
もしそのまま直流で給電できれば、変換による電力の損失を低減できることになります。  
データセンタでは大量の電力を必要とする上、電源の瞬断に備えてUPSが設置されています。  
UPSは直流で蓄電するので交流と直流の変換回数はさらに多くなります。  

例)  
データセンタなどで採用されているサーバ，ネットワーク機器に対する直流給電の利点として，適切なものはどれか。  
→  
直流と交流の変換を繰り返す事で電気が失われてしまう特性を考えれば、電力ロスを避けるが答えになる。  
`データセンタが直流給電を採用するのには、無駄な電力ロスを抑える目的があります。`  

### DRAM(Dynamic Random Access Memory)

**コンデンサ**に電荷を蓄えることにより情報を記憶し、電源供給が無くなると記憶情報も失われる揮発性メモリです。  

メモリセルは、トランジスタ1個とコンデンサ(キャパシタともいう)1個の組で構成され、コンデンサに蓄えた電荷の有無により1ビットの情報を保持する仕組みになっています。  
電源供給が無くなると記憶情報も失われるため揮発性メモリに分類されます。  
コンデンサに蓄えた電荷は時間がたつと失われてしまうため、データ保持を目的とした定期的なリフレッシュ操作が必要です。  

### SDRAM(Synchronous DRAM)

同期式のDRAMで、現在、PCの主記憶として一般的に使用されているタイプです。  
システムバスに同期して動作しデータ転送の待ち時間を少なくすることで高速に動作するDRAMです。  

### SRAM(Static RAM)

4～6個のトランジスタでフリップフロップ回路を構成し、フリップフロップ回路の状態で1ビットの情報を記憶します。  

DRAMと比較  
・リフレッシュ動作が不要  
・消費電力が少ない  
・読み書きが高速  
・高い  

### フリップフロップ回路

2つの安定状態をもつことで1ビットの状態を表現することが可能な順序回路で、キャッシュメモリを構成するSRAMの記憶セルに使用されています。  

例)  
コンデンサに蓄えた電荷の有無で情報を記憶するメモリはどれか。  
→
SRAMはフリップフロップで1ビットの情報を保持するのはいいとして、フラッシュメモリーがそうだった気がしたが、SDRAMとちゃんとDRAMが用意されていたので、それを選べばよかった。  
因みにフラッシュメモリーは電荷を蓄えるまでは同じだが、蓄える対象はコンデンサではない。  
周囲を絶縁体で覆うことで情報を記憶するんだとさ。  

### EEPROM(Electrically Erasable Programmable ROM)

フローティングゲートと呼ばれる部位に電荷を蓄え、周囲を絶縁体で囲うことによって情報を記憶しています。  
利用者が記憶内容を電気的に書き込み・消去できる不揮発性メモリです。フラッシュメモリはEEPROMの一種です。  

### フラッシュメモリ

フローティングゲートと呼ばれる部位に電荷を蓄え、周囲を絶縁体で囲うことによって情報を記憶しています。  
EEPROMの一種ですが、データの書き換えをブロック単位（EEPROMはバイト単位）で行う点が異なります。  

### 一次電池(放電のみ可)

アルカリマンガン乾電池  

### 二次電池(充電式電池)

リチウムイオン電池は、正極と負局の間をリチウムイオンが行き来することによって電力を生みだす充電式の電池です。  
エネルギー密度が高い、充電／放電効率が高い、高出力、寿命が長いなどの特徴があり、モバイル機器や電動工具のバッテリーや家庭用蓄電池として使用されています。  

※ニカド電池、ニッケル水素電池、リチウムイオン電池等  

### RFID(Radio Frequency IDentification)

ID情報を埋め込んだRFタグ(ICタグ)と電磁界や電波を用いることで、数cm～数mの範囲で情報のやり取りを行う技術です。  

特徴として「見えなくても読める」ことが挙げられ、RFタグが目に見えない隠れた位置にあっても、タグ表面がホコリ、泥などで汚れていても読み取り可能です。  
この利点を活かし乗車カード（Suica, PASMOなど）、電子マネー、電子荷札、野生動物の調査、自動レジ、家畜の管理などに利用されています。  

RFタグは電池の内蔵の有無によって「パッシブタグ」と「アクティブタグ」に分類されます。  

#### パッシブタグ(受動タグ)

電池を内蔵せず、リーダ／ライタが発信する電波をエネルギー源として利用して駆動するタグ。  
リーダ／ライタの電波の一部を反射するときにID情報をのせて返すことで自身の電力で電波を発信しなくとも情報をやり取りすることができる。  
交信範囲は広くても数十センチメートルという制限があるが安価(10円以下)に製造できる。  

#### アクティブタグ(能動タグ)

電池を内蔵し、自らの電力で電波を発信するタグ。  
交信範囲は数十メートルから数百メートルと広いがパッシブタグと比較すると価格が高い。  

### IrDA(Infrared Data Association)

赤外線を利用した近距離データ通信

### エネルギーハーベスティング

周りの環境からの微弱なエネルギーを収穫(harvest)して電力に変換する技術の総称です。  
日本語では「環境発電技術」と呼ばれています。  
エネルギーハーベスティングを利用した技術としては以下の事例が挙げられます。  

・ヒトやモノが移動する際の圧力を利用した電力床  
・放送波、無線LANなどの電磁波の回収による電力の取り出し  
・体温で発電するウェアラブル端末  

### アクチュエータ(Actuator)

入力された電気信号を力学的な運動に変換する駆動機構で、機械や電気回路の構成要素です。  
IoT関連だと、電子錠システムにおける回転ラッチのようなハンドルやレバー、ロボットの関節部、電子弁などコンピュータからの指示を受けて伸縮・屈伸・回転する部分が該当します。  
制御システムにおいては、コントローラから制御信号を受けとり制御対象に与える操作量を変化させる部位のことをいいます。  

### ひずみゲージ

物体のひずみを測定するためのセンサです。  
薄い絶縁体上にジグザグ形状にレイアウトされた金属の抵抗体(金属箔)が取り付けられた構造をしており、変形による電気抵抗の変化を測定することによりひずみ量に換算します。  

### ジャイロ

角速度(単位時間あたりの回転角)を検出するセンサで、「角速度」「傾き(角度)」「振動」の3つを検出する用途で使用されます。  

### チャタリング(chattering)

機械式接点の押しボタンスイッチを1回押したときに，押してから数ミリ秒の間，複数回のON，OFFが発生する現象。  
リレーやスイッチの接点が切り替わった際に、微細で非常に速い機械的振動によって、電気信号が断続を繰り返す現象です。  
接点の劣化によって発生する。  

### 分解能

器械装置等がアナログ信号をどの程度細かく表現できるかの性能を表すものです。  

#### 令和元年秋期　問20

分解能が8ビットのD/A変換器に，ディジタル値0を入力したときの出力電圧が0Vとなり，ディジタル値128を入力したときの出力電圧が2.5Vとなる場合，最下位の1ビットの変化による当該D/A変換器の出力電圧の変化は何Vか。  

→  

この設問では分解能が8ビットなので、このD/A変換器は0～最大出力までの電圧を2^8＝256階調で任意に出力可能であるとわかります。

入力値を表すビット列の最下位1ビットが変化すると入力値は1だけ増減します。  
設問のD/A変換器に0を与えたときの出力電圧は0V、そして128を与えたときの出力電圧は2.5Vですから、1ビットの変化によって増減する出力電圧は2.5Vを128等分した量になります。  

つまり最下位の1ビットが変化したとき、このD/A変換器の出力電圧は2.5／128Vだけ変化します。  

### SoC(System on a Chip)

[1]
1つの半導体チップ上にシステムに必要な一連の機能を集積する回路の設計方法です。  
SoCには「占有面積の削減」「高速化」「低消費電力化」「コスト削減」などのメリットがあるとされています。  

[2]  
CPUコア、GPUコア、DSP、メモリ、タイマ、通信などの機能を1つのチップ上で実現したシステムLSI(大規模集積回路)です。  
必要とされる全ての機能(システム)を1つの半導体チップに集積することによって、占有面積の削減、高速化、低消費電力化、コスト削減などのメリットがあります。  
SoCがワンチップであるのに対して、複数のLSI(チップ)を1つのパッケージまとめることでシステムLSIを実現する方式をSiP(System in a Package)と言います。  

![!](https://www.ap-siken.com/kakomon/03_haru/img/22.gif)  

### SiP(System In Package)

各機能を個別に最適化されたプロセスで製造し，パッケージ上でそれぞれのチップを適切に配線した半導体チップ  

### マイクロコントローラ

CPU，チップセット，ビデオチップ，メモリなどコンピュータを構成するデバイスを実装した電子回路基板

### チップセット

CPU，メモリ，周辺装置などの間で発生するデータの受渡しを管理する一連の回路群を搭載した半導体チップ

### 耐タンパ性

ハードウェアやソフトウェアのセキュリティレベルを表す指標で、外部から内部データに対して行われる改ざん・解読・取出しなどの行為に対する耐性度合いを示します。  
タンパ(tamper)は"改ざんする"という意味です。  

### リーク電流

電子回路上で、絶縁されていて本来流れないはずの場所・経路で漏れ出す電流のことです。  

リーク電流は伝導体間の距離が狭くなるにつれて増大していくため、集積回路の超微細化が進んだ現在では半導体回路で消費される電力の半分以上がリーク電流として消費されるようになってしまっています。  
リーク電流の大量発生は誤作動、消費電力や発熱量の増加、素子の劣化などを引き起こすのでリーク電流の低減は重要なテーマになっています。  

### パワーゲーティング

動作していない演算回路ブロックに対して、クロック信号の供給停止だけではなく電源を遮断し、電流を削減する半導体の低消費電力技術です。  
似た低消費電力技術に「クロックゲーティング」がありますが、こちらは演算に関与しない不要ブロックへのクロックの供給を止めることで電力消費を抑える技術です。  

### コンデンサ

内部に電気を蓄えたり、蓄えた電気を放出する電子部品です。  
真ん中の絶縁体を2つの金属板で挟むという基本構造になっていて、金属板に電圧を加えても絶縁体が電気を流さないので、金属板に電気が貯まる仕組みになっています。  

![!](https://www.ap-siken.com/kakomon/03_haru/img/24.gif)  

コンデンサは静電容量（電気を蓄えられる量）を超えるとそれ以上は電気を貯められないので、電流が流れなくなります。  
この仕組みにより直流電流を通しません。  
交流電流も絶縁体の中を通ることはできませんが、電流の向きが交互に変えるという交流の性質上、コンデンサが充電と放電を繰り返すので実質的に電流が流れているのと同じになります。  

※交流電流は通すが直流電流は通さない。  

### AC/DCコンバータ

交流電流を直流電流に変換する。  

### コイル(インダクタ)

直流電流は通すが交流電流は通さない。  

### インバータ

直流電流を交流電流に変換する。  

### PWM(Pulse Width Modulation，パルス幅変調)

信号の強度は一定のまま、パルス信号を出力する時間(width)を長くしたり短くしたりすることで電流・電圧を制御する方式で、インバータの制御方式として用いられています。  

![!](https://www.ap-siken.com/kakomon/02_aki/img/22.gif)  

### PAM(Pulse Amplitude Modulation，パルス振幅変調)

PWMとは別に、パルス信号を出力する時間は一定で、信号の強度(振幅)によって制御する方式。  

### エンディアン

バイト　単位のデータをメモリに記録するときの方式です。  
一般にビッグエンディアンは人間がデータの並びを認識しやすい、リトルエンディアンはコンピュータがデータを処理しやすいという特徴があります。

#### リトルエンディアン

記録するデータの下位バイトから順番に、メモリのアドレス番号の若いほうに格納していく方式です。  
![!](https://www.ap-siken.com/kakomon/29_haru/img/21_1.gif)  

#### ビッグエンディアン

記録するデータデータの上位バイトから順番に並べていく方式です。  
![!](https://www.ap-siken.com/kakomon/29_haru/img/21_2.gif)  

### HDL(Hardware Description Language)

ディジタル回路の設計や構成を文字で記述するハードウェア記述言語です。  
SystemC、VHDL、Verilogなどの種類があります。  
直接論理構成とは、回路の論理式の記述(RTL記述)から回路図を自動生成することをいい、HDLのソースコードを論理合成ソフトにかけてネットリストを生成する工程を指します。  

### ウォッチドッグタイマ(Watchdog Timer)

システムに異常が発生したことを検知し、それを通知する目的で設定されるタイマです。  
ウォッチドッグには、英語で番犬という意味があります。  

タイマには適切な時間がセットされていて、システムが正常なときは一定間隔でタイマの経過時間をリセットしています。  
しかし、システムに異常が起こるとリセットが行われなくなり、タイマのカウントが増加し続けることになります。  
「設定した時間内にリセットが行われなかったのは、システムに異常が起きている」と考えられるので、ウォッチドッグタイマに設定された時間が経過した場合は**ノンマスカブル割込み**を発生させ、システムに異常を通知するという仕組みになっています。  

### マスカブル割込み

その発生を抑制できる割込みのこと。ノンマスカブル割込みは発生を抑制できない割込みということになる。  

### DSP(Digital Signal Processor)

主にリアルタイムコンピュータで使用される、ディジタル信号処理に特化したプロセッサです。  
DSPは主に画像処理・音声処理などのディジタル信号処理アルゴリズムの計算処理で使われます。  
これらの処理では大量のデータに対して規定時間内に素早く演算を行う必要があるため、専用のハードウェアであるDSPが用いられます。  

特徴として、積和演算を高速に実行できるように高速乗算器を持つことが挙げられます。  
FIRフィルタや高速フーリエ変換 (FFT) といったディジタル信号処理では、積和演算の性能が非常に重要になってくるためです。  

※積和演算などの機能を内蔵しているので，ディジタルフィルタを実現するのに適している。  

### CS信号

チップセレクト(Chip Select)信号の略。複数の素子を接続している場合にどの素子からの読書きを行うのか指定するための信号。アドレスを調べてチップセレクト信号を送る回路を「アドレスレコーダ」と呼ぶ。

### L

Lowの略で二進数で"0"のこと。ディジタル回路は電圧によってH，Lの2つの状態をとる。電流電圧に近い状態をH(High)、0Vに近い状態をL(Low)と表し、それぞれ二進数の1，0として扱う。

### LSB(Least Significant Bit)

最下位ビットのこと。  
2進数では左の桁に配置されるビットを上位ビット、右側の桁に配置されるビットを下位ビットと呼ぶ。  

### MSB(Most Significant Bit)

最上位ビットのこと。  

---

## ハードウェア 問題

### 令和2年秋期　問24

8ビットD/A変換器を使って，負でない電圧を発生させる。使用するD/A変換器は，最下位の1ビットの変化で出力が10ミリV変化する。データに0を与えたときの出力は0ミリVである。データに16進表示で82を与えたときの出力は何ミリVか。

XORをNotORと勘違いしました。  
そもそも論理ゲートの記号から復習したほうがよさそうですね。  

→

``` txt
16進数 82 を基数変換すると以下のようになります。
2進数で 1000 0010
10進数で 130
最下位の1ビットの変化回数は、
　1（1回）
10（2回）
11（3回）
100（4回）
101（5回）
110（6回）
111（7回）
というように、値が1増える毎に1回発生するため、10進数130の場合は、2進数の最下位の1ビットの変化は130回起こっていることになります。したがって、発生する電圧はこれに10Vを掛けた1300ミリVです。
```

### 平成30年春期　問22

クロックの立上りエッジで，データを入力の最下位ビットに取り込んで上位方向へシフトし，ストローブの立上りエッジで値を確定する8ビットのシリアル入力パラレル出力シフトレジスタがある。各信号の波形を観測した結果が図のとおりであるとき，確定後のシフトレジスタの値はどれか。ここで，数値は16進数で表記している。

→

``` txt
1000 1101
8    D
128 + 8 + 4 + 1 = 141
```

設問の図に、クロックの立上りエッジで取り込まれるビット(0 or 1)を書き込むと次のようになります。

![!](https://www.ap-siken.com/kakomon/30_haru/img/22a.gif)  

データは取り込まれるごとに上位ビットにシフトされていくので、シフトレジスタのビットの並びは、ストローブの立上り直前に取得されたデータが最下位ビット、その1つ前のデータが最下位から数えて2ビット目…というようになっています。

ストローブ立上り前の8回分の取得ビットを並べると「10001101」ですので、これを16進数に変換した8Dが正解となります。  

### 令和3年春期　問25

図の論理回路において，S=1，R=1，X=0，Y=1のとき，Sを一旦0にした後，再び1に戻した。この操作を行った後のX，Yの値はどれか。

![!](https://www.ap-siken.com/kakomon/03_haru/img/25.gif)  

→  

図の論理回路図はフリップフロップと呼ばれ、2つの回路の安定した状態によって1ビットの情報を保持する回路です。  
現在と異なる入力が与えられると、次の入力があるまでその状態を保持しようとします。  

問題文の初期状態"S=1、R=1、X=0、Y=1"だと、回路は次のようになっています。  

![!](https://www.ap-siken.com/kakomon/03_haru/img/25_1.gif)  

次にSを0に変えると、次のような状態になります。  
他方の出力がもう一方の入力に影響を与えるので、2つの回路が安定するまで何回か入出力を繰り返します。  

![!](https://www.ap-siken.com/kakomon/03_haru/img/25_2.gif)  

そしてSを1に戻すと次のような状態になります。  

![!](https://www.ap-siken.com/kakomon/03_haru/img/25_3.gif)  

回路はこの状態で安定するので、出力の値は「X＝1，Y＝0」となります。  

### 令和3年秋期　問23

マイコンの汎用入出力ポートに接続されたLED1を， LED2の状態を変化させずに点灯したい。汎用入出力ポートに書き込む値として，適切なものはどれか。ここで，使用されている汎用入出力ポートのビットは全て出力モードに設定されていて，出力値の読出しが可能で，この操作の間に汎用入出力ポートに対する他の操作は行われないものとする。

![!](https://www.ap-siken.com/kakomon/03_aki/img/23.gif)  

→  

16進数の 08 と 48 を2進数表記にすると以下のようになります。
08(16) = 0000 1000(2)
48(16) = 0100 1000(2)
LSB（最下位ビット）がビット0、MSB（最上位ビット）がビット7なので、設問の図のビット3（LED1）とビット6（LED2）とビットマスクの位置はそれぞれ以下のように対応します。

![!](https://www.ap-siken.com/kakomon/03_aki/img/23_1.gif)  

LEDを点灯させるには対応するビットに"1"を出力します。  
LED2を変化させずに、LED1を点灯させるには、汎用入出力ポートから読み出した値のビット6はそのまま、ビット3を"1"にした値を書き込めば良いことになります。  

ビット6について読み出したビットを変化させずにそのまま出力するには、"1"との論理積(AND)をとるか、"0"との論理和(OR)をとることになります。  
ビット3については必ず1を出力したいので"1"との論理和をとるのが必須です。  
この2つの条件を組み合わせると、ビット3は"1"で論理和をとる、論理和を使用するためビット6は"0"を使うことになります。  

以上より、「読み出した値と16進数08の論理和」が適切とわかります。

汎用入出力ポートから読み出した値と16進数の08との論理積  
ビット3は"1"との論理積、ビット6は"0"との論理積となります。LED1が点灯せず、点灯していたLED2が消灯してしまうため誤りです。  

汎用入出力ポートから読み出した値と16進数の08との論理和  
正しい。ビット3は"1"との論理和、ビット6は"0"との論理和となります。ビット3は常に"1"で点灯、ビット6は読み出したビットがそのまま出力されます。  

### 平成29年春期　問22

16ビットのダウンカウントのカウンタを用い，そのカウンタの値が0になると割込みを発生させるハードウェアタイマがある。カウンタに初期値として10進数の150をセットしてタイマをスタートすると，最初の割込みが発生するまでの時間は何マイクロ秒か。ここで，タイマクロックは16MHzを32分周したものとする。

→

``` math
「タイマクロックは16MHzを32分周」という記述から、クロック周期数は以下のように求められます。

　16MHz÷32＝500kHz

この500kHzからダウンカウントの周期は以下のように計算できます。

　1秒÷500kHz＝0.000002＝2マイクロ秒

カウンタの初期値が150なので、カウンタの値が0になり割込みが発生するまでの時間は、

　2マイクロ秒×150＝300マイクロ秒
```

組み込みのあれ。  
32分周は単純に割ればいい。  
結果は5万Hz  
1秒間に5万回の振動がある。  
2マイクロ秒で1回発生する。  
1回発生したらダウンカウントされる。  
これを150回繰り返すので、300マイクロ秒で最初の割り込みが発生するってこと。  

### 平成30年春期　問23

ワンチップマイコンにおける内部クロック発生器のブロック図を示す。15MHzの発振機と，内部のPLL1，PLL2及び分周器の組合せでCPUに240MHz，シリアル通信(SIO)に115kHzのクロック信号を供給する場合の分周器の値は幾らか。ここで，シリアル通信のクロック精度は±5%以内に収まればよいものとする。

![!](https://www.ap-siken.com/kakomon/30_haru/img/23.gif)  

→

発信器から出力された15MHzは、PLL1で8倍にされて120MHzになります。その後CPUへはPLL2でさらに2倍されて240MHzのクロック信号が届けられます。

![!](https://www.ap-siken.com/kakomon/30_haru/img/23a.gif)  

問題の分周器の値ですが、分周器への入力が120MHz、SIO(シリアル通信)に供給されるクロック信号は115kHzなので、およそ 1／1000の値になっていることに気が付きます。

　120×106÷(115×103)≒103

つまり分周器の値は約 1／1000に設定すればよく、これを2進数で表した「1／210」(＝1／1024)が答えとなります。

※「分周」が割り算なら「逓倍」は掛け算。
まぁ、それも問題見ればわかるけど。  

### 平成26年秋期　問21

図の回路を用いてアドレスバスからCS信号を作る。CS信号がLのときのアドレス範囲はどれか。ここで，アドレスバスは A0～A15 の16本で，A0 がLSBとする。また，解答群の数値は16進数である。

![!](https://www.ap-siken.com/kakomon/26_aki/img/21.gif)  

→  

問題を解く前に聞き慣れない用語の意味を押さえておきます。

CS信号
チップセレクト(Chip Select)信号の略。複数の素子を接続している場合にどの素子からの読書きを行うのか指定するための信号。アドレスを調べてチップセレクト信号を送る回路を「アドレスレコーダ」と呼ぶ。

L
Lowの略で二進数で"0"のこと。ディジタル回路は電圧によってH，Lの2つの状態をとる。電流電圧に近い状態をH(High)、0Vに近い状態をL(Low)と表し、それぞれ二進数の1，0として扱う。

LSB
Least Significant Bitの略で、最下位ビットのこと。2進数では左の桁に配置されるビットを上位ビット、右側の桁に配置されるビットを下位ビットと呼ぶ。

図中のアドレスデコーダはNAND回路で構成されています。NAND回路は以下のように真理値表を持つので、CS信号がLow(0)となるためには、NAND回路への入力のすべて(A15～A8)が1である必要があります。

![!](https://www.ap-siken.com/kakomon/26_aki/img/21_1.gif)  

A15～A8までの端子の先端に付いている○は入力値の反転を意味するので、全ての入力が1となるビットの組合せは以下のようになります。  

![!](https://www.ap-siken.com/kakomon/26_aki/img/21_2.gif)  

A15～A8までのビット列を、A15を最上位ビットとして並べると 11000100 になり、これは16進数では C4 と表記できます。  

CS信号の生成に関係するアドレスバスは A15～A8 のみで、A7～A0は16進数の値で 00～FF の範囲をもつため、CS信号がLow(0)となるアドレスの範囲は C400～C4FF が適切です。  

### 平成29年春期　問23

図の回路が実現する論理式はどれか。ここで，論理式中の"・"は論理積，"＋"は論理和を表す。  

![!](https://www.ap-siken.com/kakomon/29_haru/img/23.gif)  

→  

設問中の上下2つのAND回路からの出力を論理式で表すと、"A・B"と"A・B"になります。  
![!](https://www.ap-siken.com/kakomon/29_haru/img/23_1.gif)  

この2つの出力が最後のOR回路へ入力されるため、出力Fは以下の論理式と等価になります。  

　(A・B)＋(A・B)  

これを論理演算の演算を用いて変換すると、  

　(A・B)＋(A・B)  
＝B・(A＋A) //分配の法則  
＝B・1 //A＋A＝1  
＝B  

以上のようにF＝Bが導けます。ゆえに「イ」が正解です。  

またベン図を用いてもよいでしょう。

![!](https://www.ap-siken.com/kakomon/29_haru/img/23_2.gif)  

### 令和2年秋期　問23

次の表に示す値が格納されたLUT(Lookup Table)と等価な回路はどれか。ここで，LUTのアドレス信号A2～A0はA0がLSBで，ア～エの回路の入力信号aがA2，bがA1，cがA0に対応する。

![!](https://www.ap-siken.com/kakomon/02_aki/img/23.gif)  

LUT(Lookup Table)は、複雑な計算処理を繰り返さなくても済むように、入力に対する出力をあらかじめ保持しておくデータ構造です。  
この設問に置き換えると、3つの入力信号それぞれが"0"または"1"の可能性があるので、入力値としては"000"～"111"までの8種類の組合せがあり、これらをアドレス0～7に保持しておくということになります。  

入力信号の組合せとアドレスおよび出力値を紐付けると以下のようになります。  
![!](https://www.ap-siken.com/kakomon/02_aki/img/23_1.gif)  

### 平成27年秋期　問22

図の論理回路の動作の説明として，適切なものはどれか。

![!](https://www.ap-siken.com/kakomon/27_aki/img/22.gif)  

→  

情報処理技術者試験で度々登場する設問の論理回路は、NAND型RSフリップフロップと呼ばれ、S(Set:セット)とR(Reset:リセット)の2つの入力を用いることで保持するビットの状態を切り替えることのできるフリップフロップ回路です。  

RSフリップフロップには次のような特徴があります。  
・2つの出力(Q と Q)をもち、この2つのビットは必ず逆になる。  
・S＝1，R＝0の状態にすると回路は常に1を保持する。(Q＝1)  
・S＝0，R＝1の状態にすると回路は常に0を保持する。(Q＝0)  
・2つの入力が共に1の時が安定状態となる  
設問の論理回路に対して入力(0,0)、(1,0)、(0,1)を与えると、以前がどんな状態であったとしても以下のような出力で安定します。  

![!](https://www.ap-siken.com/kakomon/27_aki/img/22_1.gif)  

入力(1,1)の場合だけは特殊で、以前の回路の状態によって次のような動作をします。  

![!](https://www.ap-siken.com/kakomon/27_aki/img/22_2.gif)  

これらをまとめると図の論理回路の真理値表は以下のようになります。  

![!](https://www.ap-siken.com/kakomon/27_aki/img/22_3.gif)  

順序回路  
回路の出力がその時点の入力のみならず、過去の入力信号にも依存する回路  

※不定状態  
(0,0)→(1,1)の遷移では2つのNAND回路のどちらが先に処理されるかによって、出力が(1,0)又は(0,1)となり定まらない。  
フリップフロップでは2つの出力(Q, Q)が同値の不定状態へ遷移する入力が禁止されている。  

### 令和元年秋期　問23

3ビットのデータX1，X2，X3に偶数パリティビットcを付加する回路はどれか。  

→  

偶数パリティビットは、1のビットの数が偶数になるようにパリティビットを付加する方式です。  

例）  
101 … 1のビットが偶数個なのでパリティビットは0 → 1010  
100 … 1のビットが奇数個なのでパリティビットは1 → 1001  

回路図の問題では、仮の値を回路に入力してみることで正しい構成になっているか確認するのが確実です。ここでは、x1=1、x2＝0、x3＝1 を使用します。出力cが0になれば正しいパリティビットが出力されたことになります。

一般的に、ビット列中の1の個数が奇数が偶数かを確認する方法としてXOR演算を使う方法があります。  
全てのビットをXOR演算でつないだとき結果が1となれば1の個数は奇数、0であれば偶数となります。  
「ウ」の回路では、この性質を利用し「x1 XOR x2 XOR x3」を行うことで偶数パリティビットの値を求めています。  
なお、「ウ」の出力cの前にNOT回路を加えた「エ」は奇数パリティビットを付加する回路になります。  

### 平成26年春期　問20

NAND素子を用いた次の組合せ回路の出力Zを表す式はどれか。ここで，"・"は論理積，"＋"は論理和，"X"はXの否定を表す。

![!](https://www.ap-siken.com/kakomon/26_haru/img/20.gif)  

入力値であるXとYに、0または1を代入した組合せのすべて(X=0, Y=0 | X=1, Y=0 | X=0, Y=1 | X=1, Y=1)を試すと、以下のようになります。

![!](https://www.ap-siken.com/kakomon/26_haru/img/20_2.gif)  

このままではわかりにくいので入力値X, Y及び出力値Zを整理して表にすると、以下の真理値表が得られます。  

![https://www.ap-siken.com/kakomon/26_haru/img/20_3.gif](https://www.ap-siken.com/kakomon/26_haru/img/20_3.gif)  

この表からこの回路は、論理和を求めるOR回路と同じ出力をすることがわかるので、正解は「X＋Y」になります。

また回路図を論理式で表し、その論理式を変形して解く方法もあります。

Z＝X・X・Y・Y
　＝X・X＋Y・Y　//ド・モルガン則を適用
　＝X・X＋Y・Y　//A＝A
　＝X＋Y　//A・A＝A

→  
なるほど。  
単純にXとYの掛け算ではダメということか。  
それと、掛け算の否定は足し算になるのを忘れてた。  

### 平成30年秋期　問20

次の方式で画素にメモリを割り当てる640×480のグラフィックLCDモジュールがある。座標(x，y)で始点(5，4)から終点(9，8)まで直線を描画するとき，直線上のx＝7の画素に割り当てられたメモリのアドレスの先頭は何番地か。

〔方式〕
メモリは0番地から昇順に使用する。
1画素は16ビットとする。
座標(0，0)から座標(639，479)まで連続して割り当てる。
各画素は，x＝0からx軸の方向にメモリを割り当てていく。
x＝639の次はx＝0とし，yを1増やす。

![!](https://www.ap-siken.com/kakomon/30_aki/img/20.gif)  

→  

``` txt
まず、番地を求める対象である座標(7, 6)の画素が格納される位置を考えます。座標(7, 6)は8列7行目に位置し、メモリには上の行から順に格納されていくため、先頭から数えた順番は、

　640×6＋8＝3848(個目)

メモリの幅は8ビットで1画素は16ビットですので、1つの画素には2つの番地が割り当てられます。格納される順番ごとにメモリアドレスの先頭を考えてみると、1番目の画素はメモリの0番地、2番目は2番地、3番目は4番地、…、641番目(2行目先頭画素)は1280番地 になります。つまり、n番目の画素が割り当てられるメモリアドレスの先頭は「(n－1)×2番地」で表せます。

よって、先頭から3848番目のメモリアドレスの番地は、

　(3848－1)×2＝7694(番地)


とりあえず、640×6して目的のアドレスの行まで飛ぶ。  
1マスに2つ番地があって先頭っていうので、2倍する。  
7列目までの番地を足せば答えになる。  
```

### 令和3年春期　問23

図はDCモータの正転逆転制御の動作原理を示す回路である。  
A1からA4の四つの制御信号の組合せの中で，モータが逆転するものはどれか。  
ここで，モータの＋端子から－端子に電流が流れるときモータは正転し，S1からS4のそれぞれのスイッチ素子は，対応するA1からA4の制御信号がそれぞれHighのとき導通するものとする。  

![!](https://www.ap-siken.com/kakomon/03_haru/img/23.gif)  

→  

![電源に接続されていることを表していて"＋極"](https://www.ap-siken.com/kakomon/03_haru/img/23_1.gif)  
![アースを表していて"－極"を意味します](https://www.ap-siken.com/kakomon/03_haru/img/23_2.gif)  

電気は＋極から－極に流れるので、各選択肢の電流の流れは以下のようになります。

![!](https://www.ap-siken.com/kakomon/03_haru/img/23_3.gif)  

正転とは逆に、モータの－端子から＋端子に電流を流せばモータが逆転するので、スイッチの適切な組合せは「ウ」となります。  
「ア」と「イ」は電流が流れず、「エ」はモータの＋端子から－端子に電流が流れるので正転します。  

---

## 論理回路図・論理式 問題

### 令和3年秋期　問22

1桁の2進数A，Bを加算し，Xに桁上がり，Yに桁上げなしの和(和の1桁目)が得られる論理回路はどれか。

→

入力A、Bと出力X、Yの適切な関係は次のようになります。  
![!](https://www.ap-siken.com/kakomon/03_aki/img/22_1.gif)  

上表を見ると、2つの入力とXの関係はANDの真理値表と一致し、2つの入力とYの関係はXORの真理値表と一致していることに気が付きます。  
したがって、X＝A AND B、Y＝A XOR B となっている「ア」の論理回路図が正解です。  

### 基本 平成29年秋期　問23

図に示すディジタル回路と等価な論理式はどれか。ここで，論理式中の・は論理積，＋は論理和，XはXの否定を表す。

→

``` math
X ＝A・(A_＋B_) ＋ (A_＋B_)・B
　＝A・A_ ＋ A・B_ ＋ A_・B ＋ B_・B　//分配の法則を適用
　＝0 ＋ A・B_ ＋ A_・B ＋ 0　//A・A_＝0を適用
　＝A・B ＋ A・B　//0＋A＝Aを適用
```

AかつAではない領域は存在しないので0。
論理式はノートに書いて復習すべきだ。
ドモルガンの法則も確認しておきたい。

### 基本 平成27年秋期　問23

図のNANDゲートの組合せ回路で，入力A，B，C，Dに対する出力Xの論理式はどれか。ここで，論理式中の"・"は論理積，"＋"は論理和を表す。
→
論理回路図を論理式に落とし込めば普通にできる。
ドモルガンの法則を覚えていないと回答に困ると思う。

論理積の否定は論理和になる。
積が和になるっていうからややこしくなるのかな。
∧が∨になる。

(A∧Bの否定)∧(C∧Dの否定)の否定
否定同氏は打ち消し合うので、否定の中に含まれる論理積はそのまま。
否定の影響を受ける論理積は論理和になるので、答えは
A∧B ∨ C∧D

### 基本 平成28年秋期　問21

アノードコモン型7セグメントLEDの点灯回路で，出力ポートに16進数で92を出力したときの表示状態はどれか。ここで，P7を最上位ビット(MSB)，P0を最下位ビット(LSB)とし，ポート出力が0のとき，LEDは点灯する。
→
16進数を2進数に変換して、各ポートに当てはめていけば問題なくいける。
気をつけるのは0の時、点灯するという文言。
1だけ付けると数字にならないことに気が付けば問題文に目が行くと思うので問題ないとは思うけど、問題文をよく見ましょうねーという問題。

16進数から2進数への基数変換は16進数→10進数→2進数という形でやっていたが、直接変換できることを改めて知った。
ここも復讐しないとなー。

16進数を2進数に基数変換するときは、16進数を各桁ごとに2進数4桁に変えていくだけです。
92 → 9 2 → 1001 0010

8進数を2進数に基数変換するときは、8進数を各桁ごとに2進数3桁に変換する。
72 → 7 2 → 111 010

16進数が4桁なのは、2進数4桁が0~15までを表現可能だから。
8進数が3桁なのは、2進数3桁が0~7までを表現可能だから。

16進数から8進数、8進数から16進数への変換は間に2進数への変換を嚙まさないといけないみたいね。
でも単純に詰めたり足したりするだけか。

問題
8進数360を16進数に変換
(360)8
=(3 6 0)8
=(011 110 000)2 ← 各桁を2進数に変換
=(0000 1111 0000)2 ← 4桁に分ける。右に詰める。先頭の足りない部分は0で補う。
=(F 0)16 ← 最上位の0は無視できる。
=(F0)16

問題
そのまま逆変換
(F0)16
=(F 0)16
=(1111 0000)2
=(001 110 000)2 ← 右から3桁に分けていく。先頭の足りない部分は0で補う。
=(3 6 0)8
=(360)8

因みに10進数をn進数に変換するとき、縦に計算していく方式。
あれ、毎回やり方忘れるから、もっと冗長な方で解いてもいいかもしれない。

問題
10進数の60を2進数に変換

60 / 2 = 30...0
30 / 2 = 15...0
15 / 2 =  7...1
 7 / 2 =  3...1
 3 / 2 =  1...1
 1 / 2 =  0...1

2 / 60 ...0
2 / 30 ...0
2 / 15 ...1
2 /  7 ...1
2 /  3 ...1
     1

### 基本 平成30年秋期　問22

2入力NAND素子を用いて4入力NAND回路を構成したものはどれか。
→
2入力、4入力というのは入力数の事。
2ならいつものABの2つを考えればいいし4ならABCD全ての組み合わせを考えればいいという事。
2入力NANDはいつもの回路を難しく言ってるだけ。

4入力になると組み合わせは16通りになるが、ANDの地点で1つでも0があれば、0なので考えなくてよい。
後は地道に論理回路図と照合していけば答えがわかる。

---

## コラム

そもそも、電流、電圧、電力って何？

### 電圧 V（ボルト）

電気を押し出す力  
電気を押し出す力＝電圧を表す単位がボルトです。  
電圧が高いほど多くの電気が流れます。  
家庭用の電圧は一般的には100V、工場などの生産機械には200V以上が使われています。  

### 電流 A（アンペア）

電気の流れる量
電気の流れる量＝電流を表す単位がアンペアです。  
家庭では20Aや30Aなど、ご使用状況にあわせ契約を選ぶことができます。  

### 電力 W（ワット）

電気が仕事をする力  
電気が仕事をする力＝電力を表す単位がワットです。  
電灯が光を出したり、モーターが力を出す大きさを表しています。  
電力（W）＝電圧（V）×電流（A）になります。  

### 電力量 Wh（ワットアワー）

電気を使った量  
電気の使用量を表す単位がワットアワーです。  
定格電力×使用時間で計算します。  

### 直流と交流

<https://hegtel.com/chokuryu-koryu-chigai.html>

### 直流

直流の特徴は電圧の大きさと電流が流れる方向が一定方向だということです。  
たとえば、電池に豆電球をつないで光らせたときに流れている電気は、直流です。  
電気は常に一方通行で変化しません。  

### 交流

交流は時間の経過とともに、一定の周期をもって電気（電圧）の大きさと向きが変化します。  
そして、交流の周期が1秒間に何回繰り返すかということを周波数といいます。  
日本では50Hzと60Hzの2種類が使われています。  

・電気機器等の内部回路は交流では使えないので、直流に整流して使用する。  
・なので家庭で利用する電気は、すべて交流。具体的にはコンセントまでは交流。  
・発電所→家庭までは交流。各電気機器内で直流に整流されて使われる。  

・家庭用の電気が交流なのは、発電所から送電する時には高い電圧で送るほうが電気の損失を少なくできるから。  
・変圧器を用いた電圧の変換が用意であること  
・電圧を高く出来れば電気の損失を押されられて、効率がいいこと。  
・交流から直流への変換は容易だが、直流から交流への変換は難しいこと。  

以上の理由から、発電所からの送電は高電圧にして、家庭に配電する前に家庭で使いやすい電圧に下げられる交流送電が普及した。  

### 電気の問題

電流(A)・電圧(V)・電力(W)の間には以下の関係式が成り立ちます。  
`A×V＝W`  
電力は電流と電圧の積で表されます。  

また答えの単位である「Wh」は、電力量の単位で1Wの電力を1時間使用した場合すると1Whになります。  
`電力量＝W×使用時間`  

次に設問にある力率とは、流れる電流が実際に機器で使用された割合を示す数値です。  
この設問では力率が1(100%)で、流れた電流の全てが機器で消費されるという条件なので計算上は特に考慮する必要ありません。  

上記を踏まえて設問に戻ります。機器で使用する電力が  

10A×100V＝1000W  

図を見ると、通電している時間が1.5時間とわかるので  
電力量(Wh)＝1000W×1.5時間＝1500  
消費する電力量は1500Whが適切です。  

### 短絡(ショート)

電気回路の二点間を小さい抵抗でつなぐこと。  
また、絶縁が破れたりして、抵抗のごく小さい回路ができること。  
電線やヒューズが焼け切れたりする。ショート。  

短絡が発生すると定格以上の電流が流れるので出力ポートが破損する恐れがあります。  

# 8.ユーザーインターフェースとデスクトップ

- X11のインストールと設定  
- ディスプレイマネージャーの設定  
- アクセシビリティ  

``` txt : X11のインストールと設定
・X Window System(X,X11) :: LinuxでGUIを実現するための技術。GUIを提供するためのシステム。
・Xサーバ       :: キーボードやディスプレイなどのハードウェアを管理するソフトウェア。
・Xクライアント :: TCP/IP上でXプロトコルによりXサーバーのサービスを受けるソフトウェア。X上で動作するアプリケーションそのもの。
・/etc/X11/xorg.conf :: X.Orgの設定ファイル。
・/etc/X11/xorg.conf.d/ :: X.Orgの設定を保存するディレクトリ。X.Orgの設定として拡張子.confのファイルを保存できる。
・/usr/share/X11/xorg.conf.d/ :: デフォルトのX.Orgの設定ファイルが配置されているディレクトリ。
※手動で設定が必要な場合は、設定を変更するファイルを/etc/X11/xorg.conf.dディレクトリ以下にコピーして編集する。
・~/.xsession-errors    :: X Window Systemのエラーが出力されるファイル。
・~/.xinitrc             :: startx実行時に呼び出されるスクリプトファイル。
・/etc/X11/xinit/xinitrc :: startx実行時に呼び出されるスクリプトファイル。~/.xinitrcが無ければ実行される。
・xhost   :: ホスト単位でXサーバへのアクセス許可・不許可をコントロールするコマンド。  
・xauth   :: Xサーバへの接続に使用される資格情報を表示したり、クライアント認証ファイルを編集するコマンド。  
・環境変数DISPLAY :: Xクライアントが出力を行うXサーバーを設定する環境変数。書式 :: [ホスト名 or IPアドレス]:ディスプレイ番号
※ディスプレイ番号は「0」から始まる。
・startx  :: CUI環境からGUI環境に移行するコマンド。CUI環境（ランレベル3）で実行すると、X Window Systemが起動する。
・Wayland :: X11に変わる新しいディスプレイサーバー。クライアントとサーバ―はWaylandプロトコルで通信する。  

※Xクライアント（172.16.0.4）上で実行したプログラム「xeyes」をXサーバ（172.16.0.1）のディスプレイに表示させたい。
[Xserver# xhost +172.16.0.4] → [Xclient# DISPLAY=172.16.0.1:0] → [Xclient# export DISPLAY] → [Xclient# xeyes &]
※Xサーバの設定で、「user.example.com」からのアクセスのみ許可したい。
[xhost +user.example.com] or [xhost user.example.com] ※+は省略可能
```

``` txt : ディスプレイマネージャーの設定
・ディスプレイマネージャ :: グラフィカルログイン画面を提供する。ログイン認証、ログイン後のデスクトップ環境の準備を行うプログラム。
※initやsystemdによりディスプレイマネージャーサービスが起動される(ランレベル5)
・XDM :: X.Org標準のディスプレイマネージャ
・GDM :: GNOMEの標準ディスプレイマネージャー  
・KDM :: KDEの標準ディスプレイマネージャー  
・SDDM(Simple Desktop Display Manager) :: kdmの後継。KDE Plasmaの標準ディスプレイマネージャー  
・LightDM :: Ubuntuの標準ディスプレイマネージャー  
・/etc/X11/xdm/xdm-config :: XDMの設定ファイル。
・/etc/X11/xdm/Xresources :: XDMログイン画面のデザイン設定ファイル。
・/etc/X11/xdm/Xaccess    :: ホストからXDMへアクセス許可の設定ファイル。
・/etc/X11/xdm/Xsetup_0   :: XDMログイン画面表示前に実行されるスクリプト。XDMのカラー設定や背景（壁紙）の指定を行う。
※ファイル名の末尾にある「_0」はディスプレイを識別するための番号（ディスプレイ番号）。
・/etc/X11/xdm/Xsession   :: XDMのログイン後に実行されるスクリプト。

※ディスプレイマネージャーの起動の流れ
startxコマンド → xinitコマンド → .xinitrc → /etc/X11/xinit/xinitrc → DM起動
※グラフィカルログインを有効にする方法
・ランレベルを5に設定する。
・CUI環境でstartxコマンドを実行する。
・systemdを採用したシステムでGNOMEを有効にする場合、[systemctl enable gdm.service]を実行する。

・ウィンドウマネージャー :: ウィンドウの概観、アイコンやカーソル、メニューなどを提供するXクライアントのアプリケーション。
・twm    :: 最小限の機能を備えたウィンドウマネージャー
・kWin   :: KDE標準のウィンドウマネージャー。
・Mutter :: ウィンドウマネージャーの1つ。詳細不明。
・統合デスクトップ環境   :: ディスプレイマネージャやウィンドウマネージャなどユーザが使用するGUI環境と、アプリケーションを統合したデスクトップ環境。
・GNOME :: 代表的な統合デスクトップ環境。
・KDE Plasma :: KDEの標準デスクトップ環境。
・Xfce :: ネズミのやつ。メモリやCPUの消費量が少ない軽量のデスクトップ環境。  
※他軽快なデスクトップ環境例 : LXDE,MATE  
・VDI(Virtual Desktop Infrastructure) :: 仮想デスクトップ環境のこと。
・VNC(Virtual Network Computing) :: クロスプラットフォーム(Win,Linux,Mac)対応のリモードデスクトップソフトウェア。
※デスクトップを操作される側のコンピュータにVNCサーバを、操作する側のコンピュータにはVNCクライアントをインストールする。
・RDP(Remote Desktop Protocol)   :: Windows標準のリモートデスクトップ機能で使用される通信プロトコル。
・SPICE(Simple Protocol for Independent Computing Environment) :: 画面転送プロトコル。通信の暗号化やマルチモニタ(4画面まで)など、多数の機能に対応している。  
※仮想マシンのホスト（仮想環境の土台）にインストールしたSPICEサーバが仮想マシンの画面出力をクライアントに送信して直接操作する。
・XDMCP (X Display Manager Control Protocol) :: XサーバとXクライアント間を制御するプロトコル。ﾈｯﾄﾜｰｸ上にあるﾘﾓｰﾄﾎｽﾄにｸﾞﾗﾌｨｶﾙﾛｸﾞｲﾝする場合に使用される

※「/etc/inittab」ファイルにおいて、デフォルトで「GUI環境」を起動させる記述 :: id:5:initdefault:
※ヒエラルキー  
統合デスクトップ環境 > ディスプレイマネージャー、ウィンドウマネージャー > ディスプレイマネージャーXDMの仕組み(X11)
```

``` txt : アクセシビリティ
・スティッキーキー :: 固定キー。修飾キー(Shift,Ctrl,Altキー等)の後に入力したキーを同時押しとみなす。
・スローキー       :: 所定の時間、キーを押し続けないと入力を認識しない。
・バウンスキー     :: 同じキー入力は一定時間無視する。
・トグルキー       :: NumLock,CapsLock,ScrollLockキーがオンだと一回、オフだと2回ビープ音がなる。
・マウスキー       :: マウスデバイスの代わりにテンキーを使ってマウスポインタを操作する。
・リピートキー     :: 所定の時間、キーが押されていなければリピートしない。
・ハイコントラスト   :: スクリーンの表示色を反転したり、コントラストを協調して見やすくする。
・スクリーンリーダー :: スクリーンに表示された文字を読み上げる。
・点字ディスプレイ   :: 文字データを点字に変換して専用点字ディスプレイに出力する。
・点字キーボード     :: 点字の1文字を表す6つの点にそれぞれ対応する6点キーで入力。
・gok                :: GNOME Onscreen Keybord。キーボードをスクリーンに表示する。
・orca               :: スクリーンリーダーや拡大鏡を提供するGNOMEの機能。
・emacspeak          :: Emacsのスクリーンリーダー。  
```

---

## 小豆本問題

``` txt : 1回目
### 8.1 xorg.conf ○
XサーバとしてX.Orgを利用しています。中心となる設定ファイル名を記述してください。  


### 8.2 InputDevice ○
X.Orgの設定ファイルで、キーボードやマウスなどの入力装置に関する設定を行うセクションを選択してください。  


### 8.3 xhost +remotepc ○
ホストremotepcのXクライアントが、ホストlocalpcのXサーバーを利用できるように設定しようとしています。  
ホストlocalpc上で利用の許可を設定するには、どのコマンドを使えばよいかを選択してください。  


### 8.4 LightDM,SDDM
ディスプレイマネージャをすべて選択してください。  
→  
ディスプレイマネージャーかウィンドウマネージャーか。
ここら辺の違いと代表的なソフトをまとめておく。  


### 8.5 DISPLAY
ネットワーク経由でリモートホストのXクライアントがローカルホストのXサーバーを利用したい場合、リモートホストで設定すべき環境変数を記述してください。


### 8.6 RDP
WindowsのデスクトップをLinux端末からネットワーク越しに操作しようとしています。
Windows標準のリモートデスクトップ機能で採用されているプロトコルを選択してください。  

RDPでは？
RemoteDesktopProtocol
合ってた。
この問題はやる前から大丈夫そうだな。


### 8.7 スティッキーキー
Shiftキーと他のキーを同時に押すことが出来ないユーザーのために提供されている、Shiftキーを一度押すと、  
他のキーを押すまでShiftキーがアクティブな状態のままになる機能のことを何と呼びますか？  
```

# VisualStudioメモ

## リビルドとクリーンの違い

### リビルド

①中間ファイルを削除しない。  
②プロジェクトを都度クリーンしてからビルドする。  

### クリーン

①中間ファイルも削除する  
②プロジェクトを全てクリーンする。  

### 「リビルド」 と 「クリーン+ビルド」

Clean Proj1 Clean Proj1  
Build Proj1 Clean Proj2  
Clean Proj2 Build Proj1  
Build Proj2 Build Proj2  
→  
プロジェクト間の依存関係が強い場合に影響する可能性があるかも。  
その場合、都度消すより全部消してからのほうが依存に煩わされることがないのかも。  

厳密に言うと、クリーン（中間ファイルと出力ファイルが削除されます）とは異なり、  
すべてをビルドして再コンパイルするだけですが、結果は同じです。  
ただし、失敗する場合もあります（Femarefのコメントを参照）。  
→  
まぁ、単純にいじってないやつも全部コンパイルしなおすって認識でいいのかもね。  

#### 中間ファイル

コンパイラーなどがオブジェクトファイルを生成するために作成するファイルのこと。  
通常、コンパイル（変換）が終了すると自動的に削除される。  
→  
コンパイルが終わると自動的に削除されることを考えれば、あまり意識することはないのだろうけど、  
何かがあって、正常に消えない場合にクリーンする必要があるのかもしれない。  

---

## アタッチとデタッチ

2021/11/03 Wed 課題対応している時に、今まで普通に出来ていたデバッグが出来なくなった。  
福田さんに相談したらアタッチだのデタッチだの言い始めてわけがわからなかったのでまとめる。  

仕組み的には、TSm_menuにExecuteModeなるものがあって、それで起動方法を切り替えているらしい。  
今までは、Test領域でしかデバッグしてなくて、今回始めてCime領域でやったらこうなった。  
TestとCimeで何が違うのか知らないが、データベースを確認したら0か1か思いっきり違うのは確認した。  
こういう仕組み系の話は結構疎いので、都度まとめないとやっていけない。  

まず前提として、クラスライブラリはエントリーポイントを持たない。  
exeのように自分で起動できない。  
他から起動される事前提なので、メインのプロセスに対してアタッチしないとデバッグ出来ないんだとか。  

### アタッチのやり方  

- メニューバーの「デバッグ」を選択。  
- 「プロセスにアタッチ」を選択。  
- たくさん出てくるので、アタッチしたいプロセスを選んで「アタッチ」ボタンを押す。  

開発中の話でいえば、タイトルが普通に表示されるので、それを選べば迷うことはない。  
PIDも表示されるので、タスクマネージャーと合わせて探してもいいんじゃないかな。  

[プロセスにアタッチ](https://qiita.com/lusf/items/d76a3e718f9b4403142f)  
[クラスライブラリ(DLL)プロジェクトのデバッグ方法](https://c-loft.com/blog/?p=1793)  

---

## Revertのやり方

Revertしたいコミット履歴を右クリックして「元に戻す(R)」を選択。  
Revertコミットが自動的に生成されるのでプッシュすればRevert完了。  

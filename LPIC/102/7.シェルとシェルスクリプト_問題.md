# シェル、スクリプト問題

---

## 1 ○

ユーザーのホームディレクトリ直下のファイルで、bashシェル環境のカスタマイズに使用されるものはどれか？1つ。  

→  
D. .bashrcと.bash_profile  

bash.confなるものはなかったはず。  
後、隠しファイルなので「.」は必須。  

---

## 2 ○

bashをログインシェルとする全てのユーザーが共通して使用可能な変数と値を設定する場合に適切なものはどれか？1ツ。  

→  
B. /etc/profile  

小豆本の時もそうだったけど、読んで字のごとくだから、選択肢として出された場合にはすぐに応えられる。  

---

## 3 ○

bashをログインシェルとするユーザーがログインすると、どの順番で設定ファイルを読み取りますか？1つ。  

→  

順番の問題からは逃れられないか。  
だからこそ、あそこまで一生懸命説明してるんだろうけど。  
実質Bしか無くないか？  
最初にetcを読んだ後に、ホームディレクトリの3ファイルを読み取るって話だった気がするが？  

B. /etc/profile -> .bash_profile -> .bash_login -> .profile  

---

## 4 △

~/.bash_profileの説明で正しいものはどれか？2つ。  

→  
よくわからないけど、BとCで。  
当たった。△にしておこう。

→  
~/.bash_profileはbashが読み取って実行するファイルなので読み取り件が必要だが、実行権は必要ない。  
~/.bash_profileはユーザーが自分の閑居うをカスタマイズするためのファイルでもあるので、ユーザーの読み書き権限が設定されている。  

---

## 5

コマンドcmdの実行結果をシェル変数varに格納するコマンドラインはどれか？2つ。  

→  
いやー、わからんな。  
シングルだか、ダブルだかで結果が変わったのは覚えているが。  
シングルは完璧に文字列として扱う。  
ダブルはコマンド部分はコマンドとして実行するって話だっけか？  
バッククオートは忘れた。  

BとDで。  
BとC出した。意外といい線行ってた。  

→  

コマンドの実行結果をシェル変数に代入する方法  
1.コマンドを`$()`で囲んで、その結果をシェル変数に代入する。  
2.コマンドをバッククオート「`」で囲んでその結果をシェル変数に代入する。  

バッククオートで囲めばコマンドは実行される。  
ダブルクォートも基本的には文字列だが、シングルとは別のルールがあった気がする。  

---

## 6 ×

一連の処理を子シェルではなく、現在のシェルの中で実行したい場合、適切なものを1つ選択せよ。  

→  
execがあればそれだが、ない。  
functionとdeclareは明らかに違う。  
`$bash プログラム名`はありそうではあるが、確信が持てない。  

Bにしてみるか。  

Cだった。  
あー。よく問題を読んでみれば、一連の処理って書いてあるな。関数として定義して実行するって意味ならfunctionしかないわな。  

`$bash 処理プログラム名` or 1行目に`#! /bin/bash`と記述したシェルスクリプトをコマンドとして実行した場合でも普通に実行できるらしい。  
しかし、解釈実行するので、子シェルを新たに生成する。  

---

## 7 ○

実行すると"Hello"と表示する関数func1を定義したい。1つ。  

→  
A . `function func1() { echo Hello; }`

---

## 8 ×

現在実行中のシェルのシェル変数VALをサブプロセス(子プロセス)から参照できるようにするコマンドはどれか？1つ  

→  
B. `set $VAL`  

やベーわ。  
あぁ？そういう解釈？シェル変数を環境変数にすることで、サブプロセスから参照できるようになる理論。  
exportコマンドの引数に指定するシェル変数の先頭には`$`は付かない。覚えとけ。  

---

## 9 ○

シェル内のすべてのシェル変数と環境変数及び関数を表示するにはどうしたらいいか。3文字のコマンド  

→  
set?

おー、当たった。  
declareコマンドでも表示できるらしい。  
それは盲点だった。  

---

## 10 ○

aliasの目的として適切なものはどれか？1つ。  

→  
A. 入力するコマンドラインを短くするため  

当たり前体操  

---

## 11

lsのaliasを一時的に解除して実行する方法は次のうちどれか？1つ。  

→  
A. \ls  

後はフルパスを指定する  

---

## 12 ○

bashのプロンプトで次のコマンドを実行すると何が表示されるか？1つ。  
`echo $$`

→  
プロセスIDなのは覚えているのだが、何のプロセスIDなのかあいまいだ。  
シェルスクリプトにおいて使われる特殊な変数で、スクリプトのプロセスIDならば、これを実行したbash自身のプロセスIDということにはならないか？  

当たった。

---

## 13 ○

コマンドが正常終了したときに返す値  

→  
0  

逆なんだよね。1が失敗。0が成功。  

→
POSIX(Portable Operating System Interface)ではコマンド成功の場合は0を返し、失敗の場合は0以外を返すと定められている。  

---

## 14 ○

標準的なシェルスクリプトの1行目にはどのようにかかれているか？1つ。

→  
B. `#!/bin/sh`  

---

## 15

---

## 16

---

## 17

---

## 18

---

## 19

---

## 20

---

## 21

---

## 22

---

## 23

---

## 24

---

## 25

---


































---

## 最強WEB問題集

 環境変数のうち、コマンドやプログラムを検索するディレクトリのリストが格納されているものは次のうちどれか。
→
 PATH
 
 

 bashで使用できるファイルに関する条件式「-r」「-w」「-x」についての説明として適切なものは次のうちどれか（3つ選択）

「-x」はパスが存在し、かつそのパスの実行権限があれば真となる
「-r」はパスが存在し、かつそのパスが読み取り可能であれば真となる
「-w」はパスが存在し、かつそのパスへの書き込みが可能であれば真となる


https://ping-t.com/modules/PremiumContents/index.php?content_id=89

https://mondai.ping-t.com/question_subjects/32


---

## コマ問

---

 登録されているエイリアスを全て削除しなさい。

unalias -a

---

  シェルのオプション機能を使い、実際にはコマンドの実行はさせずに
  スクリプトファイルの構文にエラーが無いかどうかだけを確認するコマンドを答えなさい。
  （但し、単語指定で回答する事）。

set -o noexec


---
 シェルの特殊変数のうち、現在のシェルのプロセス番号が設定される変数は？

$$

---

  以下はあるシェルスクリプトからの抜粋である。
  空欄に適語をいれ、「数値1(NUM1)が数値2(NUM2)以上であれば真」となる条件を作成せよ。
  if test $NUM1 ( ) $NUM2

-ge

---

  空欄に順に適語をいれ
  file1が存在する場合は「Found」、それ以外は「Not Found」と出力するスクリプトにせよ。
  #!/bin/bash
  ( ) test -f file1
  ( )
   echo "Found"
  ( )
   echo "Not Found"
  ( )

  _
  _
  _
  _

if
then
else
fi

---

登録されているエイリアスを表示しなさい。

alias

---

シェルの特殊変数のうち、コマンド実行時に指定された引数の数が設定される変数は？

$#

---
command1を実行し、command1が失敗した場合のみcommand2を続けて実行させたい。
  空欄にあてはまる論理演算子は？

  command1 _ command2

||


---
  以下はあるシェルスクリプトからの抜粋である。
  空欄に適語をいれ、「ファイル file1が存在すれば真」となる条件を作成せよ。
  if test ( ) /home/file1

  -f

---

bashの組み込みコマンドを使用し、独自関数「lslR」を作成しなさい。

 _  lslR() { ls -lR $1; }

function


---

  Linuxで使用される標準シェルの名前を答えなさい。

bash

---

以下はあるシェルスクリプトからの抜粋である。
  空欄に適語をいれ、「ファイル file1が存在し、かつ読みこみ可能であれば真」となる条件を作成せよ。
  if test ( ) /home/file1

-r

---

 空欄に順に適語をいれ、変数NUMが3以下の間、繰り返し処理を行うスクリプトにせよ。
  #!/bin/bash
  NUM=1
  ( ) [ $NUM -le 3 ];
  ( )
   echo $NUM
   let NUM=NUM+1
  ( )

  【スクリプト処理結果】
1
2
3

_
_
_

while
do
done

---

TODAY変数に現在の日付時刻を格納したい。
  コマンド置換機能を使ってdateコマンドの結果をTODAY変数に格納せよ。
  （文字数の少ない順に2つ）

  TODAY=_
  TODAY=_

  `date`
  $(date)


---
 キーボードの標準入力から値を読み取り、それを変数「key」に代入するようにせよ。

read key

---
 空欄に順に適語をいれ、条件式が値aなら実行文aを、値bなら実行文bを
  実行する、分岐処理の構文を完成させよ。
  ( ) 条件式 ( )
  値a )
  実行文a ( )
  値b )
  実行文b ( )
   ( )
_
_
_
_
_

case
in
;;
;;
esac

---

以下はあるシェルスクリプトからの抜粋である。
  空欄に適語をいれ、「ファイル file1が存在し、かつ実行可能であれば真」となる条件を作成せよ。
  if test ( ) /home/file1
  
  -x

---

 全ユーザのデフォルトに設定されている環境変数を変更したい場合、編集すべきファイルは？

 /etc/profile

---

envコマンドのオプションで、指定した環境変数の値を一時的に削除して
  コマンドを実行するものは？

  -u

---

 シェルのオプション機能を使い
  「Ctrl + D」を押してしまった際のログアウト処理を一時的に無効にするコマンドを答えなさい。

set -o ignoreeof

---

あるユーザが、自分用に環境変数を設定しておきたい時、編集すべきファイルは？

~/.bash_profile

---

 登録したエイリアス「rm」（rm='rm -i'）を一時的に無効化して
  hogehoge.txtを削除しなさい。

 _ hogehoge.txt

\rm

---

 以下はあるシェルスクリプトからの抜粋である。
  空欄に適語をいれ、「数値1(NUM1)が数値2(NUM2)以下であれば真」となる条件を作成せよ。
  if test $NUM1 ( ) $NUM2

-le

---

環境変数「CDIR」を削除しなさい。

unset CDIR

---

  空欄に順に適語をいれ、繰り返し処理を用いて変数INTに「1 2 3 4 5」を順に格納するスクリプトにせよ。
  #!/bin/bash
  ( ) INT ( ) `( ) 5`
  ( )
   echo $INT
  ( )

  【スクリプト処理結果】
1
2
3
4
5

  _
  _
  _
  _
  _

for
in
seq
do
done

---


  command1を実行し、command1が成功した場合のみcommand2を続けて実行させたい。
  空欄にあてはまる論理演算子は？

  command1 _ command2

&&

---
  以下はあるシェルスクリプトからの抜粋である。
  空欄に適語をいれ、「文字列1(STR1)と文字列2(STR2)が等しくなければ真」となる条件を作成せよ。
  if test $STR1 ( ) $STR2

!=

---

エイリアス機能を利用し
  「rmi」と入力して実行すると「rm -i」が自動的に実行されるようにしなさい。
  （必要であれば、シングルクォーテーションを使うこと）

alias rmi='rm -i'

---

 以下はあるシェルスクリプトからの抜粋である。
  空欄に適語をいれ、「数値1(NUM1)と数値2(NUM2)が等しければ真」となる条件を作成せよ。
  if test $NUM1 ( ) $NUM2

-eq


---

以下はあるシェルスクリプトからの抜粋である。
  空欄に適語をいれ、「数値1(NUM1)と数値2(NUM2)が等しくなければ真」となる条件を作成せよ。
  if test $NUM1 ( ) $NUM2

-ne

---

シェルの特殊変数のうち、実行したシェルスクリプト名が設定される変数は？

$0

---

 envコマンドのオプションで、コマンド実行時に何も環境変数が設定されていない
  状態にするものは？

  -i

---

あるユーザが、自分用にコマンドのエイリアスを設定したい時、編集すべきファイルは？

~/.bashrc

---

設定されている全ての環境変数を一覧表示するコマンドは？
  （アルファベット順に3つ）

_
_
_

env
printenv
set

---

  以下はあるシェルスクリプトからの抜粋である。
  空欄に適語をいれ、「シンボリックリンク /var/mailが存在すれば真」となる条件を作成せよ。
  if test ( ) /var/mail

-L

---

以下はあるシェルスクリプトからの抜粋である。
  空欄に適語をいれ、「file1の更新日が、file2より新しければ真」となる条件を作成せよ。
  if test /home/file1 ( ) /home/file2

-nt

---

 シェルのオプション機能を使い、キーバインドをemacs風にするコマンドを答えよ。

set -o emacs

---
引数無しで実行すると、シェル変数、シェル関数、環境変数を表示するコマンドは？

set

---

  指定したコマンドを既存のジョブ(シェルのプロセス)に置き換えて実行するコマンドは?

  exec

---
以下はあるシェルスクリプトからの抜粋である。
  空欄に適語をいれ、「ファイル file1が存在し、かつ書き込み可能であれば真」となる条件を作成せよ。
  if test ( ) /home/file1

  -w

---

 実行権の与えられていない「sample.sh」を実行せよ。（1文字で。）
 _ ./sample.sh

.

---
 設定されている環境変数の値を一時的に指定した値に変更して
  コマンドを実行するコマンドは？

  env

---
bashのログイン時、読み込む順番に環境設定ファイルを答えなさい
_  
_
（Debian系のみ） _
_

/etc/profile
/etc/bash.bashrc
~/.bash_profile
~/.bashrc
/etc/bashrc

---

  以下はあるシェルスクリプトからの抜粋である。
  空欄に適語をいれ、「ディレクトリ dir1が存在すれば真」となる条件を作成せよ。
  if test ( ) /home/dir1

-d

---

  あるコマンドのエイリアスを全ユーザで使用するように設定しておきたい時、編集すべきファイルは？

  (RedHat系)_
  (Debian系)_

/etc/bashrc
/etc/bash.bashrc

---

シェルの特殊変数のうち、10番目の引数が設定される変数は？

${10}

---

  以下はあるシェルスクリプトからの抜粋である。
  空欄に適語をいれ、「数値1(NUM1)が数値2(NUM2)より大きければ真」となる条件を作成せよ。
  if test $NUM1 ( ) $NUM2

  -gt

---

  対話型シェルを起動した際に読み込まれるファイルは？

  (ユーザ個別ファイル)_
  (全体設定用：RedHat系)_
  (全体設定用：Debian系)_

~/.bashrc
/etc/bashrc
/etc/bash.bashrc

---
  以下はあるシェルスクリプトからの抜粋である。
  空欄に適語をいれ、「path が存在すれば真」となる条件を作成せよ。
  if test ( ) /file/or/directory/path

-e

---

 シェルのオプションの設定状態を標準出力しなさい。

allexport       off
braceexpand     on
emacs           on
errexit         off

set -o

---

  シェルのオプション機能を使い
  シェル変数を自動的に環境変数とするためのコマンドを答えなさい。
  （但し、単語指定で回答する事）。

set -o allexport

---

  プログラムの置いてあるディレクトリ名を設定する環境変数を、echoで出力しなさい。
 
/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/root/bin

echo $PATH

---

  以下はあるシェルスクリプトからの抜粋である。
  空欄に適語(一文字)をいれ、「文字列1(STR1)と文字列2(STR2)が等ければ真」となる条件を作成せよ。
  if test $STR1 ( ) $STR2

=

---
シェルの特殊変数のうち、1番目の引数が設定される変数は？

$1

---
以下はあるシェルスクリプトからの抜粋である。
  空欄に適語をいれ、「file2の更新日が、file1より新しければ真」となる条件を作成せよ。
  if test /home/file1 ( ) /home/file2

-ot

---

  シェルの特殊変数のうち、直前に実行されたコマンドの終了ステータスが設定される変数は？

$?

---


  コマンドを実行したユーザのユーザ名が表示されるように、コマンドを完成させなさい。

My name is user1.

  echo "My name is _."
  
$USER

---
シェルのオプション機能を使い、キーバインドをvi風にするコマンドを答えよ。

set -o vi

---
  登録されているエイリアスのうち、「rmi」のみを削除しなさい。

unalias rmi

---
 実行権の与えられていない「sample.sh」を実行せよ。
  ただし、シェルを起動せずに現在のシェルで実行する2文字以上のコマンドである事。
_ ./sample.sh

source

---

以下はあるシェルスクリプトからの抜粋である。
  空欄に順に適語をいれ、「文字列1(STR1)と文字列2(STR2)が等しく
  かつ数値1(INT1)と数値2(INT2)が等しければ真」となる条件を作成せよ。
  if test \$STR1 ( ) \$STR2 ( ) \$INT1 ( ) \$INT2
  _
  _
  _

  =
  -a
  -eq

---

空欄に順に適語をいれ、繰り返し処理を用いて変数INTに「1 2 3」を順に格納するスクリプトにせよ。
  #!/bin/bash
  ( ) INT ( ) 1 2 3
  ( )
   echo $INT
  ( )

 【スクリプト処理結果】
1
2
3
  _
  _
  _
  _

for
in
do
done

---

bashで作成されたスクリプトの、1行目に記載する内容を答えなさい。

#!/bin/bash

---

以下はあるシェルスクリプトからの抜粋である。
  空欄に順に適語をいれ、「数値1(INT1)と数値2(INT2)が等しい
  もしくは文字列1(STR1)と文字列2(STR2)が等しければ真」となる条件を作成せよ。
  if test $INT1 ( ) $INT2 ( ) $STR1 ( ) $STR2

  _
  _
  _

  -eq
  -o
  =
  
---

定義されている独自のシェル関数を確認するためのコマンドを答えよ

lslR ()
{
    ls --color=tty -lR $1
}
psef ()
{
    ps -ef
}


declare -f

---
  シェル変数「CDIR」を環境変数として登録しなさい。

export CDIR

---

  Debian系ディストリビューションで使われる、シェルの起動時に必ず読み込まれる設定ファイルは？

/etc/bash.bashrc

---
ログアウト時に実行されるbashのスクリプトファイルを答えなさい。

~/.bash_logout

---
シェルのオプション機能を使い
  ワイルドカードによる展開（*や?）を無効にするコマンドを答えなさい。
  （但し、単語指定で回答する事）。

  set -o noglob

---
 以下はあるシェルスクリプトからの抜粋である。
  空欄に適語をいれ、「数値1(NUM1)が数値2(NUM2)より小さければ真」となる条件を作成せよ。
  if test $NUM1 ( ) $NUM2

-lt

---
シェルのオプション機能を使い
  リダイレクトによるファイルの上書きを禁止するコマンドを答えなさい。
  （但し、単語指定で回答する事）。

set -o noclobber

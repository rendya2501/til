# 税計算

## 内税

税込価格 - 内税 = 本体価格  
税込価格 / 消費税率 = 本体価格  

① : 1000 / 1.1 = 909.0909  
② : 1000 * 10 / 110 = 90.9  

切り上げの場合  
1000 - 91 = 909  

切り捨ての場合  
1000 - 90 = 910  

●内税計算なぜこれで出てくるのか証明したい。  
1100は1000円に10%の税金が足された金額。  
1000 + 1000 * 0.1 = 1100  
1000 * 1.1 = 1100  

1000 * 0.1 = 100  
1000 = 100 / 0.1  
= 1000 / 1  

1000 = 910 + 90  
1000 / 1.1 = 909  

なぜなのか。あーあれか。  
内税を求めて内税価格から引く方式と内税価格を消費税率で割って税抜き価格を直接抜き出す方式とでは、計算的に端数に誤差が生じるのか。  
そういえばceilだとかfloatとか端数をどうこうするオプションもあったよな。  
消費税を切り上げるか切り捨てるかの選択で考えれば、本体価格を直接求めるのは、会計的には避けたほうがいいんだろうなぁ。  

内税価格 - 内税 = 本体価格  
内税価格 / 消費税率 = 本体価格  

1-1.  
1100 / 1.1 = 1000  

2-1.  
1100 * 10 / 110 = 100  
1100 - 100 = 1000  

1-2.  
1000 / 1.1 = 909.0909 ≒ 909  

2-2.  
1000 * 10 / 110 = 90.9 ≒ 91  

内税である 90.9の端数を切り捨てるなら 1000 - 90 = 910になる。  
切り上げならもちろん 1000-91 = 909だ。  

これがみんなが言っている切り上げ切り捨ての概念なんだろうなぁ。  
確かに1円の違いが絶対に生じる。  
1円の違いでも間違ったらヤバい。  

# PPTP : Point-to-Point Tunneling Protocol

ネットワークスペシャリストで出てくる単語見たい。  
道理で応用情報を勉強しているだけでは勉強した記憶がないわけだ。

<http://nw.seeeko.com/archives/50897459.html>

ダイヤルアップネットワーク接続をイメージしてください。  

接続先の電話番号を入れ、RAS [^1]に接続に行きます。  
IDパスワードで認証をして、接続をします。つまり、PPPです。  

一方PPTPは,同じことを、ブロードバンド [^2]環境で行います。  
接続先としてIPアドレスを入れ、接続先のルータに接続にいきます。  
IDパスワードで認証、接続します。PPPの拡張と考えればよいでしょう。  

- RC4を使った暗号ができるように工夫されているはず。  
  文献によっては、PPTP単体での暗号化機能はないという表現もあり。  
- PPPと同様に、ダイヤルアップが基本の使い方であるが、LAN間接続も可能。  

→PPTPとL2Fを合わせ、L2TP(Layer2 Tunneling Protocol)として標準化。  
L2TPは暗号化機能を持たないため、IPsecで暗号化する。  
過去問（H25SC秋午後Ⅱ問2）では、「L2TPは，イーサネットフレームが変換されたPPPフレームをカプセル化してUDPで送受信するプロトコルであり，  
これとIPsecを組み合わせたものがL2TP over IPsecである。」と述べられている。  
L2TPはLayer2でIPsecはLayer3。  

[^1]: RASとは？

- RASとは?
リモートアクセスサーバ（Remote Access Server）  
リモートアクセスサーバとはVPN接続を可能にするサーバのこと。  
社外から社内ネットワークに接続するときは、使用している端末から直接社内ネットワークに接続するのではなく、リモートアクセスサーバを中継してから接続します。  
<https://it-trend.jp/remote_access/article/147-0007>

[^2]: ブロードバンド

- ブロードバンドとは?  
ブロードバンドとは高速&大容量なデータ通信ができる回線のこと。  
英語で broad band（幅広い帯）と表記され、それまで主流だったナローバンド（narrow band・幅細い帯）に比べて、その名の通り大容量のデータをやりとりできるという特徴があります。  
「光」とはブロードバンド回線の一種。  

---

## PPTPについて

<https://qiita.com/pyon_kiti_jp/items/47fec6e5de7318f983e0>

- IPsecは、ネットワーク層でカプセル化をするプロトコル  
- PPTPは、データリンク層でカプセル化するプロトコル  
- L2TPもデータリンク層のプロトコル  
- PPTPはPPPの技術を使ってトンネリングする仕組みらしい。  
- PPTP,L2TPは共に、IPsecよりセキュリティが弱いのは明らか  
- TCP/IPのレイヤが一つ下がる事により、IPsecよりネットワーク技術の敷居が低くなるらしい  
  なので、ネットワーク技術者の難易リスクを下げたいのであれば、PPTPを選択する事になる。  

VPNの大きな技術は３つ。

1. 認証
2. 暗号化
3. カプセル化

基本的な手順は、IPsecもPPTPも同じらしい。違う点が、VPNトンネルの数。  
PPTPは、１本のトンネルを作って、その中で送信と受信を行うのに対し、  
IPsecは送信の時に１本トンネルを作って、受信の時はまた別のトンネルを作ってやりとりするらしい。  
この方がセキュリティ的にはよさげな気がするよな。  

PPTPは認証にPPPをパクっているが、IPsecはIKEという仕組みを使う。  
この辺のアルゴリズムは全然違う。PPPで必要な情報は、ユーザーIDとパスワード。  
ばれたら終わり。  
PPTPはRC4という暗号化アルゴリズムを使って、カプセル化してGREというヘッダー情報を付加するみたいだ。  

# 平成28年秋期

## データベース ネットショップの会員管理

話はわかったけど、勘違いして時間がかかってしまった。  
完全に間違えたのは1つだけ

``` txt : 30分 9/10
イ
{商品番号}
SUM(t4.商品単価 * t4.個数)
t2.購入日時
t2.購入ステータス = '完了'
ORDER BY t2.会員番号,t2.購入日時
goukei >= 50000
SET 会員種別 = '特別会員' → SET t1.会員種別 = '特別会員'
購入 → 会員
会員番号、適用日時、会員種別 → 会員番号，会員種別，適用日時


追加するエンティティは会員の会員種別の履歴に関するもので、会員の会員番号と会員種別の適用日時により、履歴を一意に特定することになると考えられます。当然1人の会員に対して複数の適用日時が存在することが想定されるので、会員エンティティと追加するエンティティのカーディナリティは1対多になります。したがって、追加するエンティティと関連をもたせる既存のエンティティ名は「会員」となります。

∴会員

追加するエンティティでは会員の会員番号と会員種別の適用日時により、会員種別の履歴を管理することになります。したがって、追加されるエンティティには少なくとも、「会員番号，適用日時，会員種別」の属性が必要です。（関係スキーマ：エンティティ名（属性名1，属性名2，…）を記述するならば、会員種別履歴（会員番号，適用日時，会員種別）のようになります）

∴会員番号，会員種別，適用日時
```

---

## 組み込みシステム 腕時計型脈拍計の設計

今までとは打って変わって、1問しか正解しなかった。  
もう一問は正解みたいなものだが、それでもミスった回答であることに変わりはない。  
計算問題が絡んだ途端これだから、油断はしてはいけないのだ。  
組み込みも当たりはずれがあるって事かな。  
それにしても、50Hzとかミリ秒がパッと出てこなかったのはやばいと思うけどね。  

掲示板も荒れているし、解説も難しいことを言っているので、この年の組込みシステムは難しかったのだろう。

余裕で30分超えたわけだが、この問題をやっているときにチャイムがなったのもあった。  
相手はヤマトだったが、全然身に覚えがなかったので出なかった。  
伝票を見たが、どうやら隣のやつらしい。  

で、結局今回の敗因は何だったのか。  
まず一番最初から躓いたのは痛かったな。
ヘルツの基本的な概念が欠落していた。
計算問題が出されると頭が混乱する。
全体をうまく自分の認識に落とし込むことが出来なかった。
ここは最短と最長の計算時間のところだ。
何を持って最短、最長とするのかパッと出てこなかった。
最後の文章問題に関しては、着目したところはよかったけど、それを答えとして落とし込むことが出来なかった。
ひいては、フロー図の理解力不足だろう。

``` txt : 回答 30分 1/8
## メモ
6000/50 120 72 48


## 1
点灯時間設定コマンド 72 × 12
消灯時間設定コマンド 48 × 8


## 2
[1]
a 輝度を補正 × 輝度設定コマンドを送信
b 計測終了コマンドを送信
[2] ウ × イ
[3]
最短所要時間 0 × 6
最長所要時間 6 × 16


## 3 
皮膚の状態などにより反射光の光量が変化すると正確な脈拍数を計測できないから 0%
→
輝度補正終了前までのzは適正範囲を外れており、脈拍数算出には不適切だから(道場)
輝度補正中のzは適正範囲外の値であり、脈拍数計測には不適切だから。(itec)
```

``` txt : 解説
## 1

1ミリ秒 = 0.001秒
50Hz = 1秒間に50回実行される。

1秒間に50回の点滅を繰り返し、その間の点灯時間と消灯時間の比が6:4。
1回の点灯と消灯の時間は1 / 50 = 0.02。
これの6:4はそれぞれ12,8。

俺の求め方は1回の測定は6秒=6000ms。それを50で割る。
すると120msになるので、これの6:4を取ると72:48になるというわけ。
だけど、これはかなり基礎的な考え方が欠落しているな。
6000msを50で割る地点でだめだ。なら50も6倍しないといけないし、それならやっぱり1秒に50回が常識的な考え方になるんだよなぁ。



## 2

(1)は単純なミスリード。コマンドで回答すればよかっただけ。
(2)は減算なのか乗算なのか検討が付かなかった。
イメージ的には減算なのだが、その根拠も無かった。
なのでなんとなく乗算的な回答を選んだ。
解説書によれば、手元が暗くてライトを付けたとする。
明るさが加わったのか倍増したのかという観点から見ると、倍増されると眩しすぎるだろうとの事だった。
この程度でいいならいいんだけど、そうじゃないんだよなあ。

(3)色々計算に含めないと書いてあるが、具体的にどれを考えなくていいのか、メモすることが出来なかったのも大きな要因だろうか。
輝度補正中にある「反射光測定」と、脈拍測定中にある「反射光測定」の時間だけを考えればよかったみたい。

輝度補正は最小で1回、最大で500回の反射光測定を行う。
脈拍数計測は300回の反射光測定を行う。
測定に置けるLEDの点滅1回の所要時間は20ミリ秒。1問目を間違えばここは解けない。

最短所要時間は輝度補正で1回、反射光測定で300回の合計301回の測定を行う時。
20ミリ * 301 = 6,020 = 6.02秒 ≒6秒

最長所要時間は輝度補正で500回と反射光測定で300回の系800買いの測定を行う時。
20ミリ * 800 = 16000 = 16秒



## 3

輝度補正中の測定値zは適正範囲内に収まっていない値。
脈拍数計測の関係については、「脈拍数計測の方法」に次のように記述されている。
>皮膚の状態などによって反射光の光量が変化する。
>そのため、脈拍数計測に先だってLEDの輝度補正を行い、反射光の測定値があらかじめ想定した範囲(以下、適正範囲という)内であることを確認してから脈拍数計測を開始する。

反射光の測定値が適正範囲内に治まってから脈拍数計測を行うのだから、測定値が適正範囲内に収まって以内状態では、
脈拍数を計測しても正しい結果は得られないということ。
したがって、「脈拍数計測には、不適切な値だから」というのが理由になる。
これがあればとりあえずいい。後は適当に濁せばよいだけ。

俺のは問題文の表現をそのまま使いすぎたからか。
後はループにおける表現を用いなかった。
補正中の値で計測したところで、正しい結果を求めることができないことくらいは何となくわかっていたが、
それを「計測には不適切だから」という表現に落とし込むことが出来なかった。
```

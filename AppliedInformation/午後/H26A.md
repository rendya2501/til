# H26A

## セキュリティ ネットワークやWebアプリケーションプログラムのセキュリティ

全体的な話はわかったのだが、FWやWAFは何が防げて何が防げないのかあいまいだったのでそこをまとめる。  
間違った問題も、そのあいまいな点を付いた問題だった。  
他は特に問題ない。  
この年はセキュリティが必須になった年の影響なのか、全体的に簡単というか、かなり基礎的な内容に押さえられている気がした。  

``` txt : 回答 16分 6/7
## 1
ア、イ、オ × ア、イ


## 2
ウ、イ、エ


## 3
ウ、イ


## 4
あらかじめ定められた一連の手続きのHTTP通信

↑模範解答そのまま。なんせコピペだからな!!
そんなはずがないと小一時間悩んだが、結局それ以外の回答は考えられず、しかも普通に正解だったのは拍子抜けした。
```

``` txt : 解説
## 1
[a]
正しい。DNSサーバは、外部からのDNSリクエストを処理できるようにDMZに設置されています。FWで外部からDNSサーバへ通信を遮断してしまうと、X社ドメインに対する名前解決ができなくなってしまいます。このためFWでは、DNSサーバに対して行われるDNSの仕組みを悪用した攻撃を防げません。

[i]
正しい。Webサーバは、外部からのHTTPリクエストを処理できるようにDMZに設置されています。SQLインジェクションやXSS、ディレクトリトラバーサル等の攻撃は正規のHTTPリクエストに則って仕掛けられるため、FWでこれらの攻撃を遮断しようとすると、正規のHTTPリクエストまで遮断してしまうことになります。このためFWでは、HTTPを用いたWebサーバへの攻撃を防げません。

[u]
誤り。図2「X社のセキュリティ要件」で説明されているように内部ネットワークから外部の通信、および外部から内部ネットワークへの通信は、全てDMZのサーバを介して行われます。このため業務上必要とされる通信に外部と内部が直接コネクションを確立する類のものは存在しないと判断できます。
外部から内部に直接接続しようとする通信をFWで遮断してしまえば、内部Webサーバを狙った、外部からの不正アクセス攻撃を防げます。

[e]
誤り。「ウ」と同様に、内部ファイルサーバを狙った、外部からの不正アクセス攻撃はFWで防ぐことができます。

[o]
誤り。「X社のセキュリティ要件」の1.2「業務上必要がない通信は全て禁止すること」、
およびプロキシサーバの用途は「内部ネットワークからのHTTPアクセスを代理する」ことに限られているので、プロキシサーバへはHTTP以外の通信を許可する必要がありません。
さらにHTTP通信に関しても、内部ネットワークからのHTTPリクエストに対応するHTTPレスポンスだけをFWで通過させればよいため、
送信元IPアドレス、宛先ポート番号、通信の向きが合致するHTTPレスポンスだけを許可し、他のプロキシサーバ宛てのHTTP通信は全て遮断してしまっても問題は生じません。
以上より、プロキシサーバに対するポートスキャンのパケットは全てFWで防げると判断できます。

itec
ポートスキャンに関しては、公開しているサービスと一致しない宛先ポート番号を拒否することによって防ぐことが出来る。


## 2
〔aについて〕
IDS(Intrusion Detection System，侵入検知システム)
ネットワークやホストをリアルタイムで監視し、異常を検知した場合に管理者に通知するなどの処置を行うシステムです。
異常を検出し、通知することを主目的としたシステムのため通信の遮断などの防御機能は持たないことがほとんどです。

IDSは通過するパケットを監視し、異常を検出するシステムであるため「ウ」が適切な説明です。

∴ウ：IPパケットの中身を調べて不正な挙動を検出する

〔bについて〕
IPS(Intrusion Prevention System，侵入防止システム)
ネットワークの異常を検知し管理者に通知するNIDS(Network IDS)を発展させた形態で、
従来のNIDSが備えている機能に加えて不正アクセスの遮断などの防御機能が使用可能なシステムです。

IPSは通過するパケットを監視し、異常があれば管理者に通知するとともに当該パケットを遮断するシステムであるため「イ」が適切な説明です。

∴イ：IPパケットの中身を調べて不正な挙動を検出し遮断する

〔cについて〕
WAF(Web Application Firewall)
通過するパケットのIPアドレスやポート番号だけでなくペイロード部(データ部分)をチェックすることで、
Webアプリケーションに対する攻撃を検知し、遮断することが可能なファイアウォールです。
Webアプリケーションの防御に特化しているという記述、さらに暗号化・改ざん検知などを行う仕組みではないという点から「エ」が適切とわかります。


## 3
〔dについて〕
ルータとFWの間は、X社とインターネット上の外部ネットワーク間で行われる全通信の通過点です。ここにIPSを設置することで、X社内ネットワークに届く前にFWに遮断されてしまう通信も含め、外部からの攻撃／不正パケットをすべて監視し侵入防止をすることが可能になります。（ただし通信量によってはIPSの能力がボトルネックになってしまいます）

∴d＝ウ：外部からの不正アクセス攻撃の検出や防御をX社内ネットワーク全体に対して行うこと

〔eについて〕
WAFは、Webアプリケーションプログラムに特化した、攻撃パケットを監視・防御する仕組みです。WAFの防御対象はWebアプリケーション及びWebサーバであるため「イ」が適切な記述です。

∴e＝イ：WebサーバのWebアプリケーションプログラムの脆弱性を悪用した攻撃


## 4
セキュリティ要件2.3では、

「Webアプリケーションプログラムの脆弱性を悪用した攻撃を防ぐために，インターネットから，Webサーバにアクセスする通信は，
あらかじめ定められた一連の手続きのHTTP通信だけを許可すること」

と規定しています。

ホワイトリストは、パケットをすべて「拒否」する初期状態に、通信を「許可」する通信データパターンを定義したものです。
ホワイトリストの情報＝WAFを通過させるパケットであるため、
セキュリティ要件2.3で許可すべきとされているWebサーバに対する「あらかじめ定められた一連の手続きのHTTP通信」のパターンをWAFのホワイトリストに記述することで、
上記の要件を満たせます。

∴あらかじめ定められた一連の手続きのHTTP通信
```

---

## プログラミング マージソート

うーん・・・、話は分かるんだけど、やばいくらい単純なミスがあってやばい。  
てかこの年の問題はえらい簡単なんだな。  
マージソートというから基本情報みたいにバリバリアルゴリズムをトレースして穴を埋めていくものだと思っていたのだが、そんなことはなかった。  
とりあえず、もっと広く適応できるように汎化した答えにならないといけない。  

``` txt 29分 6/10
bがNULLと等しくない
b ← b->next
a × a->next
8
(2N+1)/2 + 1 × N+1
(2N+1)/2 × N

aがNULLと等しくない
bがNULLと等しくない
head × head->next

31

---

〔ウについて〕
[ウ]を含む後半3行は、whileループを抜けた後に実行されるので、b がリストの終端に達した後の処理となります。
問題文の〔連結リストの分割〕には、「後者のポインタが連結リストの終わりに達するまでこの処理を繰り返すと、前者のポインタは連結リストのほぼ中央のセルを指す。」とあります。a は一つずつ、b は二つずつ進めるのですから、b がリストの終端に達した時点で a はリストのちょうど中央のセルを参照しているはずです。図4「連結リストの分割後のイメージ」の中では、[16]のセルが a の位置です。

図4からもわかるように、連結リストの分割は、分割後の連結リストのうち、前半の連結リストの最後のセルのメンバ next をNULLにすることで行います（後半リストとの連結を断ち切る）。つまり、a の次のセルのポインタである next にNULLを代入しなければなりません。よって、[ウ]には「a->next」が入ります。

∴ウ＝a->next

->nextは次のセルへのポインタなんだから、それをnullにするのは当たり前だよな。
aの何かをnullにするのはわかっていたが、ポインタとnextが曖昧だった。
aはただのポインタ変数でしかないので、nullにしたら位置情報がなくなるだけ。
次への連結を削除するならnextをnullにするのが自然、というか普通。  


[1][3]
連結リストのセルの個数が奇数のときに、関数 divide を実行した場合の前半と後半の連結リストのセルの個数を考えます。偶数（2N）では必ず半分のNの位置に a が来ますが奇数ではどうなるでしょうか。

プログラムの11・12行目を見ると、一つ進んだ時点で b がNULLのときには2回目の進みが行われないことがわかります。
if (bがNULLと等しくない)
　b ← b->next（イの答え）
つまり、リストの大きさが5ならば{a=3、b=5}、リストの大きさが9ならば{a=5、b=9}というような状態でwhileループが終了します。a の位置から前の要素が前半リストとなるため、大きさ5の場合には前半が3つで後半は2つ、大きさ9の場合には前半が5つで後半は4つというように分割されます。これをNを使って一般化すると、前半の連結リストのセルの数はN+1個、後半の連結リストのセルの数はN個となります。
2N+1＝5、N＝2、前半3個＝N+1個、後半2個＝N個
2N+1＝9、N＝4、前半5個＝N+1個、後半4個＝N個
よって、前半の個数は「N+1」、後半の個数は「N」が正解です。

∴前半＝N+1、後半＝N
→
前半と後半の数についてはかなり余計なことしてる。
もっと単純に考えていいものだった。


〔カについて〕
関数 merge の戻り値が入ります。戻り値については、問題文の〔連結リストの併合〕に、「併合後の連結リストへの先頭へのポインタを戻り値とする。」とあるので、先頭へのポインタを示す式を考えます。

図6「連結リストの併合の流れ」でリストの先頭を指すポインタが head になっていること、及びプログラム中でダミーのセル head の後ろに p を連結していることから、ポインタ変数 head のメンバ next が指すセルが、併合後の連結リストの先頭であることがわかります。よって、[カ]には「head->next」が入ります。

∴カ＝head->next

→
これもだな。解いている時に違和感はあったけど、確証がなかったからそのままreturnしてしまった。
でも普通に考えてこれしかないんだよな。



[4]
32個のセルから成る連結リストに対して、図2のアルゴリズムに相当するプログラムを実行した場合、(1)～(3)が実行されることで各1個のセルを持つ32つのリストに分割されます。

マージソートでは隣り合ったリスト同士を整列しながら併合していくことを繰り返します。併合は次のように進んでいきます。
1要素×32リストを2つの要素を持つ16つのリストにする。ここで関数 merge が16回呼び出される。
2要素×16リストを4つの要素を持つ8つのリストにする。ここで関数 merge が8回呼び出される。
4要素×8リストを8つの要素を持つ4つのリストにする。ここで関数 merge が4回呼び出される。
8要素×4リストを16つの要素を持つ2つのリストにする。ここで関数 merge が2回呼び出される。
16要素×2リストを32つの要素を持つ1つのリストにして、併合完了。ここで関数 merge が1回呼び出される。
よって、関数 merge が1回呼び出される回数は、

　16＋8＋4＋2＋1＝31回

∴31
```

---

## ネットワーク メールサーバの移行

話はわかったけど、細かいところがわからなかった。  
基本的な部分の認識は良さそうだが、少しひねられると死ぬ。  

解説を読み返してわかったが、決定的な勘違いをしていた模様。  
メールマガジン配信サーバー → クラウドサービス → 一斉配信  
なので、自社のメールサーバーは全く関係ない。  
自社のメールサーバーを中心に考えていたから回答が全く合っていない。  

### SMTP(Simple Mail Transfer Protocol)

PCからメールサーバへのメール送信、およびメールサーバ間のメール転送に使われるプロトコルです。  

### POP3(Post Office Protocol version 3)

利用者がメールサーバから自身のメールを取り出す処理において使用するメール受信用プロトコル。  
一斉受信しかできず、一度受信したメールはメールサーバ上から消去される。  

### IMAP(Internet Message Access Protocol version 4)

電子メールをクライアントコンピュータ上のメールソフトではなくメールサーバ上で管理することで、複数の端末が利用する場合のメール状態の一元管理やメールの選択受信などの機能を実現したメール受信用プロトコル。  

``` txt 25分 6/9
[1]
オ
エ
イ

[2]
x.y.z.102
x.y.z.101 × x.y.z103

[3]
中継用メールサーバにクラウドサービスのURLを設定する 0%
→利用者IDとパスワードを用いた認証への対応

[4]
外部DNSサーバのキャッシュが更新されるまではP社にメールが届くため 100%
他)DNSサーバのキャッシュ情報が書き換わるのに時間を要するから
手順5 × 手順3

[5]
ウ

---

[2]

〔eについて〕
P社の業務の中でクラウドサービスのメール転送機能を利用するのは、現状もP社内のメールサーバの転送機能を使用しているメールマガジンの配信です。

クラウドサービス導入後は、P社内のメールサーバがクラウドサービスに置き換わるため、メールマガジンが配送される手順は以下のようになります。
担当者がメールマガジン配信サーバにWebブラウザでアクセスする
担当者は本文を入力し、配信を決定する
メールマガジン配信サーバは中継用のクラウドサービスにメールを送信する
クラウドサービスは転送機能を利用してメールを転送する
メールマガジン配信サーバにはプライベートIPアドレス"192.168.0.253"が設定されていますが、インターネットに通信を行う際は当然グローバルIPアドレスを使用しなければなりません。
ここで図1「現在のネットワーク構成」にてメールの経路を確認すると、ファイアウォールの外向きのアドレスにグローバルIPアドレス"x.y.z.103"が設定されていることに気が付きます。これは社内LANの機器がインターネットにアクセスする場合はファイアウォールのNAT／NAPT機能で送信元IPアドレスが"x.y.z.103"に自動変換されることを意味しています。

つまりクラウドサービスから見ればメール配信サーバからの通信は送信元IPアドレスが"x.y.z.103"になっています。このため"x.y.z.103"をメール転送サービスの許可IPアドレスに登録することになります。

→
この地点で根本的な間違いをしていた。
メールサーバーからクラウドサービスって考え方してたので、メールマガジン配信サーバーからNAPTでアドレス変換されてクラウドって視点が無かった。
だから、こんなおいしい問題を逃してしまった。


[3]
本文中の〔利用予定のクラウドサービス〕に、「メール転送機能を利用する際は，利用者IDとパスワードを用いた認証が必要である」と説明されています。
つまりクラウドサービスではメールの送信者認証(SMTP-AUTH)を実施していることになります。

メールマガジンは、一旦社内のメールマガジン配信サーバからクラウドサービスに送信し、クラウドサービスの転送機能を用いて顧客に配送されます。
この過程で転送機能が使用されるため、メールマガジン配信サーバにはクラウドサービスの認証を受けるための利用者IDとパスワードを設定しなくてはなりません。

∴利用者IDとパスワードを用いた認証への対応

→
2問目で勘違いをしていたので、個々も当然外した。
問題を読んでいて引っかかりはしたのだが、そちらではない方を回答してしまった。
認証が必要なのだから、配信サーバーからクラウドにアクセスするときに自動認証するのが普通だろう。


[5][1]
ウイルスの中には秘密裏にスパムメールを配信する機能をもつものがあります。本文中で遮断すべきとされている「PCから社外への大量メール」もこの類の通信です。

クラウドサービスの導入後は、業務で使用するメール(メールマガジンの配信を除く)は全てWebブラウザを介して送受信することなるため、通常の業務中に外部のSMTPサーバと直接通信するような場面はありません。つまり送信元IPアドレスがP社のPC、かつ、宛先ポート番号が25/TCP(インターネット上のSMTPサーバ)の通信は不自然です。このためウイルスによるものと判断し、該当する通信を遮断する措置をとることが可能です。

選択肢のうち適切な組合せである「ウ」が正解です。

[5][2]
メールサーバが受け取ったメールは、そのままクラウドサービスへ転送されるので宛先は"******@mail.p-sya.example.jp"になっています。
そこで、まずクラウドサービスが"mail.p-sya.example.jp"のメールを受信できるようになっていなければなりません。
メールサーバは転送の際に"mail.p-sya.example.jp"の名前解決を社内のDNSサーバに要求します。
このとき、DNSサーバに登録してある"mail.p-sya.example.jp"のIPアドレスが"x.y.z.101"のままであれば、自身に向けてメールを転送することになってしまいます。
したがって、転送する設定は少なくとも手順3を終えた後でなくてはなりません。

また、手順4の完了後に転送の設定をしたとすると、メールサーバが「手順4の作業中」または「手順4を完了してから転送の設定が完了するまで」に受信したメールが、全メールをクラウドサービス上のメールボックスに入れる作業とメール転送のどちらからも漏れてしまう可能性があります。
このため、手順4を開始する前には転送の設定が完了していなくてはなりません。

この2点を考慮すると転送の設定を行う適切なタイミングは、手順3の完了後と判断できます。

∴手順3

→
これがいまいちよくわからない。
しばらくはx.y.z.101に来るって話だよな。
だからDNSの向き先をクラウドサービスにしておかないと、再度、自分に向けて配信する羽目になるから、少なくとも3の後じゃないとダメだよってことを言いたいのかな？
まぁ、とりあえずこの問題は順序だてて考えればわかるよーってことがわかればいいか。


[5]
ウイルスの中には秘密裏にスパムメールを配信する機能をもつものがあります。本文中で遮断すべきとされている「PCから社外への大量メール」もこの類の通信です。

クラウドサービスの導入後は、業務で使用するメール(メールマガジンの配信を除く)は全てWebブラウザを介して送受信することなるため、
通常の業務中に外部のSMTPサーバと直接通信するような場面はありません。
つまり送信元IPアドレスがP社のPC、かつ、宛先ポート番号が25/TCP(インターネット上のSMTPサーバ)の通信は不自然です。
このためウイルスによるものと判断し、該当する通信を遮断する措置をとることが可能です。

選択肢のうち適切な組合せである「ウ」が正解です。

→
OP25Bの問題だよな。
プロバイダーを通した25はいいけど、そうでない場合はダメって仕組みだっけか？

```

---

## データベース 分散トランザクション

珍しくクエリやER図に関する問題が1件もない問題だった。  
データベースの特性や2層コミットプロトコルに関する問題でちょっと新鮮だった。  
だけど、結構簡単だったので、30分もかからずに終わってしまった。  
と言いつつ、ACID特性の部分で間違えたのが悔しい。  
しっかり復習したい。  

### ACID特性

トランザクション処理を行う上で必要不可欠とされる4つの性質(Atomicity・Consistency・Isolation・Durability)をまとめたものです。

Atomicity：原子性  
トランザクション内の処理がすべて実行されるか、または全く実行されないことを保証する性質。

Consistency：一貫性  
トランザクションによりデータの矛盾が生じないこと。常にデータベースの整合性が保たれていることを保証する性質。

Isolation：独立性  
複数のトランザクションを同時に実行した場合と、順番に実行した場合の結果が等しくなることを保証する性質。
一般にロックなどをかけることで直列可能性を保証する。
隔離性と呼ばれる場合もある。

Durability：永続性  
一旦正常終了したトランザクションの結果は、以後システムに障害が発生しても失われないことを保証する性質。耐久性と呼ばれる場合もある。

``` txt : 21分 9/10
エ × ウ
ア
c：在庫データ
d：更新準備
e：受注データ
f：コミット
g：ロールバック
ア，ウ
データがロックされたままになる 100%
他) ロックされたままとなる
ウ


最初は原子性にしたのだが、片方が成功して片方が失敗した状態は不整合そのものなのでどちらかといえば信頼性ではないか？と考えた。
しかし、1つのトランザクションで考えたら片方失敗したら全部失敗扱いにする原子性でよかったということか。
てか、信頼性なんてものはACID特性に含まれていない。ConfidenceでCだと思ってたけどCはConsistencyで一貫性だった。
てか、最初は一貫性って覚えてたつもりなのだが、選択肢の中に無くて流されてしまったか。
そうなれば、選択肢的に原子性しかなくなるわな。

→

本システムでは、在庫管理サブシステムの在庫データ更新と、販売管理サブシステムの受注データ登録という一連の受注処理を行います。
金融機関の口座振り込みにおける出金処理と入金処理のように、この2つの処理は一体不可分の処理ですのでトランザクションとして扱う必要があります。

図2中の⑧で受注登録が失敗すると、在庫引当処理により在庫データは更新されたのに、それに対応する受注データが存在しないことになります。
トランザクションはすべての処理が正常に行われるか、全く処理されない状態のいずれかで終了しなければなりません（原子性）。
在庫引当だけが行われ、受注登録が行われないとトランザクションの「原子性」を損なうことになります。


[b]  
指摘2はトランザクションが並列実行された際の弊害について説明しています。
1つ1つのトランザクションを順番に実行していけば正しい在庫数が返されますが、並列実行することによりそうではなくなってしまうのでトランザクションの「隔離性」が損なわれることになります。

なお、本システムから返された引当可能在庫数がその後に別のトランザクションで減算されたとしても、
在庫引当処理時の在庫データが注文数以上であれば在庫引当＆受注登録は支障なく行えます。
逆に、注文数未満であれば在庫引当処理に失敗してトランザクションが終了する（図2中の⑪）ことになるので、指摘2への対処は不要と判断していると考えられます。
```

---

## 組み込みシステム DVDレコーダ，ブルーレイディスクレコーダ用のリモートコントロールボックスの設計

わかったようなわからないような・・・。  
なんとも微妙な感じだった。  
全体的に組込みシステムは半分位取れるレベルにはなっただろうか。  

### 著作権（ちょさくけん、英語: copyright、コピーライト）

作品を創作した者が有する権利である。  
また、作品がどう使われるか決めることができる権利である。  
作者の思想や感情が表現された文芸・学術・美術・音楽などを著作物といい、創作した者を著作者という。  
知的財産権の一種。  

``` txt : 回答 30分 5/9
## 1
[1] レコーダ制御タスクのバッファはデータを上書きする仕様だから 0%
→複数台では、エンコーダータスクの処理が間に合わないから

[2]所有権 × 著作権
最初は著作権って書いたんだけどね。


## 2
[1]
a : 中 × 高
b : 高 × 中
c : 低

[2] W=R


## 3
[1]
e : 無線LAN制御
f : ボックス制御

[2] 6
```

``` txt : 解説
## 1
[1]
〔視聴時のタスクの動き〕より、各タスクの1フレーム当たりの処理時間は以下になります。
レコーダ制御：4ミリ秒
エンコーダ：6ミリ秒（4フレームごとに44ミリ秒必要）
つまり、6ミリ秒＋44ミリ秒／4フレーム＝6＋11＝17ミリ秒
無線LAN制御：1ミリ秒
pm07_5.gif/image-size:542×54
視聴時はレコーダから30ミリ秒周期で1フレームの録画データが送られてきます。
仮に2台の端末で同時に視聴するとした場合、30ミリ秒毎に2フレームが送られてくるので、エンコーダタスクでは「17ミリ秒×2＝34ミリ秒」の処理時間が必要となり、
処理性能が不足することになります。
このように、複数端末での同時視聴をしようとしてもエンコードタスクの処理が追い付きません。これが同時に視聴できる端末を1台に制限した理由となります。

∴複数台では，エンコーダタスクの処理が間に合わないから

[2]
テレビ番組はテレビ局の著作物であり、著作権法の保護対象です。権利の種類が問われていますので「著作権」が答えとなります。

ディジタル放送は著作権を保護するために暗号化され、コピー制御信号が付加されています。
これにより、レコーダに記録されたの録画番組は所定回数までブルーレイディスク等のメディアにコピーすることはできますが、ディジタル機器間でコピーできません。
私的利用目的であっても、技術的保護手段を回避してコピー可能にしてしまう行為を伴う場合は私的利用とはみなされず、著作物複製権の侵害となります（著作権法30条1項2号）。

∴著作権



## 2
[1]
〔aについて〕
表1には、レコーダ制御タスクについて「1)録画データが消失してしまわないように、レコーダから受け取った録画データを直ちに処理する。」という注記があります。レコーダから録画データを受け取ったときは、他のタスクの状態にかかわらず優先して処理する必要があるので、優先度を「高」にしなければなりません。

∴a＝高

注意書きのほうにそういう記述があったのか。逆にこれだけか。
計算問題ではない代わりに情報収集能力と解析能力が問われるのはこういうところなんだろうな。


〔bについて〕
表1には、無線LAN制御タスクについて「2)遅延が最小となり、かつ、レコーダ制御タスクの処理を妨げないように設計されている。」という注記があります。レコーダ制御タスクの処理を妨げないようにするという条件から、優先度は「中」または「低」となります。また、遅延を最小とするためには他のタスクよりも高い優先度でなくてはなりませんから「中」が適切です。
このようにしているのは、単位当たりの処理時間が短いタスクを優先することで、応答を滑らかにする（端末へのデータの到達間隔がばらつかないようにする）ためだと考えられます。

∴b＝中

〔cについて〕
レコーダ制御タスクの処理を妨げないようにしなければならないので、「中」または「低」となります。優先度を無線LAN制御タスクと同じ「中」にした場合、エンコーダタスクの処理中は無線LAN制御タスクの実行待ちが生じることになり、無線LAN制御タスクの遅延を最小にするという条件を満たしません。よって、優先度を「低」にする必要があります。

∴c＝低


[2]
リングバッファとは、データをバッファに格納する際に、バッファの終端までデータを格納した後、バッファの先頭に戻ってデータ書き込む方式です。

例として、以下の状態のリングバッファを考えます。
リングバッファ長は150
書込みインデックスの値(W)は100
読出しインデックスの値(R)は100
この状態に、データ長が75のデータを書き込むと以下の状態となります。
書込みインデックスの値(W)は「(100+75) % 150=25」
読出しインデックスの値(R)は100
その後、先ほど書き込まれたデータを読み込むと以下の状態となります。
書込みインデックスの値(W)は25
読出しインデックスの値(R)は「(100+75) % 150=25」
データを全て読み出すと、読出しインデックスは書込みインデックスの位置まで進むので、R と W は同じ値になります。したがって「R = W」という関係が適切です。

∴R = W または W = R



## 3
[1]
〔機能及びボックスの機能〕より、ボックスの機能として下記の2種類があります。
レコーダの番組録画予約
録画番組の視聴
また、表1の「ボックスで使用するタスクの構成」を整理すると、各タスク間の通信は以下のように発生することがわかります。
pm07_6.gif/image-size:413×146
〔eについて〕
視聴でも録画予約でも、無線LAN制御タスクで（無線LAN経由で）端末からデータを受け取ります。
メールはインターネットを介して受信するので、メールの有無を確認する機能を追加するのは無線LANとの接続点である「無線LAN制御タスク」になります。また、現状の録画予約のフローからも端末の要求を受け取るのは「無線LAN制御タスク」が適切とわかります。

∴e＝無線LAN制御

〔fについて〕
[f]タスクに追加する機能は次の2つです。
受信したメールから番組録画予約データを取り出して番組予約タスクに通知する機能
処理結果のメールを生成して送信する機能
ボックス制御タスクには、データの内容を判断し適切なタスクに送る役割、番組予約タスクから受け取った処理結果を応答データに変換し、無線LAN制御タスクに送る役割があり、追加する機能に合致します。よって、2つの機能を追加するのは「ボックス制御タスク」が適切です。

∴f＝ボックス制御タスク

[2]
メールの有無のチェックは5分間隔で行われます。また、表1の"番組予約タスク"欄に「1分経過してもレコーダ制御タスクからレスポンスが受け取れない場合、操作が失敗したものとみなし、処理結果をボックス制御に送る。」という記載があります。

これより、次の条件が重なった場合に処理結果のメールを送信するまでの時間が最大となることがわかります。

メールチェック終了後、すぐに端末がメールを送信する
↓（次のメールチェックまで5分待つ）
無線LAN制御タスクがメールを受信し、ボックス制御タスクに送る
↓
ボックス制御タスクが番組予約タスクに送る
↓
番組予約タスクがレコード制御タスクに送る
↓（1分待ってもレコーダ制御タスクからレスポンスが受け取れない）
番組予約タスクがボックス制御タスクに失敗の処理結果を送る
↓
ボックス制御タスクが処理結果を応答データに変換し、無線LAN制御タスクに送る
↓
端末に通知が届く

ネットワーク遅延及びタスク処理時間を無視して考えると、端末がメールを送信してから処理結果を受け取るまでに要する時間は「6分」です。

∴6

```

---

## 情報システム開発 ソフトウェアのテスト

やっててうちのテストを思い出した。  
結合テストが結合テストしてないんだよな。  
というか、結合テストの意味はき違えてやってるだろ。  
まぁ、愚痴はいいや。  

あまり解けた自信はなかったが、まぁそれなりに正解したのでよかったかなって感じ。  

``` txt : 30分 6/8
ア，イ，ウ
エ、オ

ア、ウ × ア、オ
基準と比べてテスト項目数が足りない 100%
他)テスト項目が目標値よりも少ない
単体テスト中に修正を行った後、回帰テストを行っていない 100%
他)メイン機能修正後に回帰テストを行っていない

出荷管理
出荷管理の欠陥件数が計上されていないため 0%
→累積欠陥密度がUCLを超えるから

---

ところでステップ数ってなんだ。

ステップ数とは、コンピュータプログラムの規模を測る指標の一つで、何らかの意味のある処理を行っているソースコードの行数のこと。
ソフトウェア開発の際の規模の見積もりや進捗管理などのために用いられることが多い。

基準と比べてテスト項目数が足りない
テスト項目数は最低でも550件は必要

---

[2]
ユニットごとの単体テスト実施結果を、管理図を使用して分析し、適切な判断ができるかどうかを問う問題です。

管理図は「QC7つ道具」の一つで、計測した数値データをグラフ上にプロットし、値がUCL（上部管理限界）とLCL（下部管理限界）の間に収まっているか、通常と異なる変化が出ていないかなどを調べることで異常の有無を判別する手法です。一般的な管理図では横軸を時系列にして、時間経過に伴う計測値の変化を分析することが多いですが、図1の管理図は横軸がユニットIDになっていて、欠陥密度を（時間変化ではなく）ユニット同士で比較する図になっていることに注意が必要です。

ア
正しい。管理図では基本的に、計測値がUCLからLCLの範囲に収まらないとき、なんらかの異常が生じていると考えるため、UCLを上回るP1はさらなる調査が必要なユニットです。

イ
誤り。P2・P3・P5・P8はUCLからLCLの範囲（管理限界）に収まってはいますが、その結果をもって品質を保証することはできません。
テストケースの品質が悪く、欠陥が摘出されていない場合もあるためです。

ウ
誤り。P4・P9の欠陥密度はLCLを著しく下回っているため、「欠陥が少なく品質が高い」ではなく、むしろ「テストが不十分で欠陥が見つけられていない」可能性を疑うべきです。

柄
誤り。UCLを超えたということは、その時点で何らかの異常が生じていると見るべきで、この状況を放置して結合テストに進むのは不適切です。
前工程での異常は後工程でさらに広がる傾向があるためです。

オ
正しい。P7はLCLを下回る欠陥密度であるため、十分なテストが行えるようにテスト項目の精査を行うべきです。

∴ア，オ

→
やっぱり範囲内だから、範囲以下だから、品質が大丈夫とかいうわけではないんだな。
文中に品質って文言を出されたからそれに引っ張られたけど違和感はすごかったんだよな。

LCL以下→十分なテストが行われているか？
LCL以内→まぁ、妥当なテストしてるんじゃないかな。
LCL以上→そもそも多すぎるのでどうなっているのかインタビューする

こんなところか？


[3]

〔結合テストの実施と欠陥発生状況の分析〕の中に「表3のインタフェース誤りは，全て受注管理から出荷管理へのデータ連携テストで検出されたもので，全て双方のコンポーネントのユニットに修正が必要な欠陥であったが，欠陥件数は，データの送出側である受注管理だけに計上していた。」という記述があります。
つまり、表3に記載されているインタフェース誤り（12件）は、受注管理だけでなく出荷管理にも欠陥件数として計上すべきものであることがわかります。

具体的に出荷管理で増加する欠陥密度を計算してみると、出荷管理のステップ数は表1より「20,000ステップ＝20kステップ」なので、

　12件÷20kステップ＝0.6件／kステップ

が上乗せされる欠陥密度とわかります。

次に、図2から出荷管理の累積欠陥密度（11/3時点）を調べると、ちょうどLCL（1.2件／kステップ）の上に位置しています。
これに先ほど求めた欠陥密度を上乗せすると1.8件／kステップになり、UCL（1.7件／kステップ）を超えることになります。
つまり、出荷管理コンポーネントについても問題があると考えられます。

したがって、管理図分析の結果として問題があると考えられるコンポーネントは「出荷管理」、その理由は「累積欠陥密度がUCLを超えるから」となります。

∴コンポーネント：出荷管理
　理由：累積欠陥密度がUCLを超えるから

→
一番最後の問題は一番上にヒントがかかれている法則。
欠陥件数が計上されていないからは第一段階の答えでしかない。
もう一押し必要で、そっからステップ数を求めて、LCUを超えることを指摘しないと満点はもらえない模様。
まぁ、それでも部分点もらえるなら俺は満足だけどねぇ。

```


# カレンダーの曜日表示をボタンにして、ボタンを押したら、その曜日の日付を全て選択したい

1. 曜日分のボタンを生成すること。  
2. 1つ1つボタンにCommandを設定すること。  
3. どのボタンを押下したのかわからないので引数を受け取ることはできないか？  

---

## 1. 曜日分のボタンを生成すること

正直どういう理論で7つも生成されるのか知らないが、取り合えず、テキスト部分をボタンに置き換えたらちゃんと出来た。  
出来ればXAMLにおける繰り返し処理もまとめたい。  

## 2. 1つ1つボタンにCommandを設定すること

Styleで定義した状態では、親の情報しか参照しないので、単純に`Command = {Bingind HogeCommand}`としただけではバインドエラーになる。  
そこで昔にやったFindAncestorとDataContextを使うことで、見事、親を超えてViewModelのCommandをバインドさせることに成功した。  
`Command="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type metro:MetroWindow}}, Path=DataContext.SelectDayOfWeekCommand, Mode=OneWay}"`  

## 3. どのボタンを押下したのかわからないので引数を受け取ることはできないか？

ずばりな記事がありました。  
→[MVVMで引数があるCommandを実装する](https://yoshinorin.net/2016/05/21/MVVM-command-hasArgument/)  

CommandParameterを使うことで実現できました。  
ちゃんとDelegateCommandも第一引き数にDayOfWeek Enumが来るように修正することで、  
見事どのボタンが押されたのかを観測することが出来ました。  

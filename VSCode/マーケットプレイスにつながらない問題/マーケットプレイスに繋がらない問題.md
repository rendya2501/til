# 自宅のVSCodeがマーケットプレイスにつながらない問題について

<https://gbw-portal.appspot.com/pages/ja/pageview.html?page=vscode%2Fp005%2Ehtml>

なんかjsonの設定を書き換えればいけるとか書いてある。  
C:\\Program Files\\Microsoft VS Code\\product.json

職場のproduct.json

```json
    "extensionAllowedProposedApi": [
        "GitHub.codespaces",
        "GitHub.vscode-pull-request-github-insiders",
        "GitHub.vscode-pull-request-github",
        "Microsoft.vscode-nmake-tools",
        "ms-ai-tools.notebook-renderers",
        "ms-dotnettools.dotnet-interactive-vscode",
        "ms-python.gather",
        "ms-python.python",
        "ms-toolsai.vscode-ai",
        "ms-vscode-remote.remote-containers-nightly",
        "ms-vscode-remote.remote-containers",
        "ms-vscode-remote.remote-ssh-edit-nightly",
        "ms-vscode-remote.remote-ssh-edit",
        "ms-vscode-remote.remote-ssh-nightly",
        "ms-vscode-remote.remote-ssh",
        "ms-vscode-remote.remote-wsl-nightly",
        "ms-vscode-remote.remote-wsl",
        "ms-vscode-remote.vscode-remote-extensionpack-nightly",
        "ms-vscode-remote.vscode-remote-extensionpack",
        "ms-vscode.azure-account",
        "ms-vscode.azure-sphere-tools-ui",
        "ms-vscode.azure-sphere-tools",
        "ms-vscode.github-browser",
        "ms-vscode.github-richnav",
        "ms-vscode.js-debug-nightly",
        "ms-vscode.js-debug",
        "ms-vscode.lsif-browser",
        "ms-vscode.references-view",
        "ms-vscode.vscode-js-profile-flame",
        "ms-vscode.vscode-js-profile-table",
        "ms-vsliveshare.cloudenv-explorer",
        "ms-vsliveshare.cloudenv",
        "ms-vsliveshare.vsliveshare",
        "ms-vsonline.vsonline"
    ],
    "extensionsGallery": {
        "serviceUrl": "https://marketplace.visualstudio.com/_apis/public/gallery",
        "cacheUrl": "https://vscode.blob.core.windows.net/gallery/index",
        "itemUrl": "https://marketplace.visualstudio.com/items",
        "controlUrl": "https://az764295.vo.msecnd.net/extensions/marketplace.json",
        "recommendationsUrl": "https://az764295.vo.msecnd.net/extensions/workspaceRecommendations.json.gz"
    },
```

---

## 特定のポートを解放することで何とかならないか

[Windows10で特定のポートを開放する](https://support.borndigital.co.jp/hc/ja/articles/360002711593-Windows10%E3%81%A7%E7%89%B9%E5%AE%9A%E3%81%AE%E3%83%9D%E3%83%BC%E3%83%88%E3%82%92%E9%96%8B%E6%94%BE%E3%81%99%E3%82%8B)

---

## 2021/01/04 Mon 解決

ちょっとひらめいた。
VSCodeの拡張が利用できない問題。
Dockerで適当にサーバー立ち上げて、その先のサーバーで拡張利用できないか確かめたくない？
それでそもそもネットワークが悪いのか現状の環境が悪いのか確認できる。
それでもだめならパソコンが悪いしかありえんだろう。
Dockerの復習にもなるし、環境スキルを上げるチャンスだ。
→
何というか、、、俺のパソコンもうだめかも。
VSCodeだけじゃなく、クロームやエッジのアップデートもうまく行かない。
ubuntuをwlsで動かそうとしてみたけど、それすらダメ。
仕方ないので、ウィンドウズアップデートを確認したらソコソコあったので、とにかくぶん回してる。
この間に雪かきする事にします。
→
原因はDNS設定だった。
解決までの一連の流れをtilにまとめるべし。
また、本当に原因がDNSか設定を元に戻してダメになるか確認する必要がある。
→
うーん？DNSをもとに戻したが再現しないな。
順番的にはDNSを無条件状態から8.8.8.8 _ 8.8.4.4に変更した後で、VSCodeのProxyの設定をなしにしたらいけた。
後はネットワーク設定でプロキシーの項目で1つだけチェックが入っていたからそれを取っ払ったのもあるか。
とりあえず、それらを組み合わせた結果ということでまとめよう。

設定→ネットワークとインターネット→プロキシ→設定を自動的に検出する→オフに変更  

コンパネ→ネットワークと共有センター→左側タブの「アダプターの詳細設定」→対応アダプターを右クリックして「プロパティ」を選択→
インターネット プロトコル バージョン4 を選択してプロパティを押下→次のDNSサーバーのアドレスを使うを選択して以下を設定。
優先DNSサーバー : 8.8.8.8
大体DNSサーバー : 8.8.4.4

VSCodeを開く→左下の歯車から設定を選択→proxyで検索→すべてデフォルトの状態であることを確認  

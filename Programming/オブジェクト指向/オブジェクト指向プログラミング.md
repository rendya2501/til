# オブジェクト指向プログラミング

---

## オブジェクト指向を構成する要素

- カプセル化  
- ポリモーフィズム(多態性)  
- 継承  

---

## 定義いろいろ

>オブジェクト指向プログラミングとは、コンピュータプログラムの構造、構成法の一つで、関連するデータの集合体と、それを操作する手続きを「オブジェクト」（object）と呼ばれるひとまとまりの単位として一体化し、オブジェクトの組み合わせとしてプログラムを記述する手法。  
オブジェクト指向によるソフトウェア開発は、異なるプログラムを組み合わせたり、後で部分的に再利用したりするのが容易になるという特徴がある。  
[オブジェクト指向プログラミング](https://e-words.jp/w/%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%8C%87%E5%90%91%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0.html)  

<!--  -->
>小さな大量のオブジェクトがお互いにメッセージを送りながら協調し、複雑なシステムを構築する。  
各クラスは1つの機能に集中し、最小限のインターフェースで構成される。  
[オブジェクト指向できていますか？](https://www.slideshare.net/MoriharuOhzu/ss-14083300)  

→後で言及しているが、オブジェクト指向迷路になるのでやめたほうがいいと言われている。  

<!--  -->
>オブジェクト指向というのは「有象無象の『値』の集まりに対して、クラスという枠組みを作り、その『値』に特別な性質と名前を与え、それを分類して管理していく」プログラミングスタイルのことです。  
つまり、オブジェクト指向におけるクラスの「名前」というのは非常に重要で、例えば中身が全く同じであっても、その名前が違うだけで使い方が自然に変わっていくような、そんなハイコンテクストなプログラミング手法なのです。  
[Taskを極めろ！async/await完全攻略](https://qiita.com/acple@github/items/8f63aacb13de9954c5da)  

---

## 今の認識

・データと手続きをクラス(若しくはオブジェクト)にまとめる  
・まとめた物を他のまとめた物(オブジェクト)と組み合わせてプログラムしていく  

良い凝縮度、良い結合度。
不必要なデータの隠蔽。
これらを実現したかったからオブジェクト指向が生まれた。  
オブジェクトのメインはオブジェクトとのメッセージのやり取り。  
オブジェクト指向という言葉は重要な要素であるメッセージの意図が伝わりにくいので失敗だったとアランケイも言っている。  

データと手続きをクラスという抽象データ型にまとめ、他のオブジェクトと組み合わせてプログラミングしていく手法。  
特徴としてカプセル化、多態性、継承等の概念が存在する。  

---

## オブジェクト指向についてごちゃごちゃ

オブジェクト指向は部品の組み合わせでプログラムするようなスタイル。

処理とデータをまとめて、それに名前をつけて、お互いにメッセージをやり取りすることを目指したスタイル。

ではなぜオブジェクト指向は難しいのか？
何が難しいのか？

車があったとして、プリウスを作りたいとなった時に、
車という実態はないのでそれは抽象クラスとし、車が持つ共通の性質をまとめる。
車にはガス車、電気自動車、ハイブリッド車等、エンジンという部品からして種類が分かれる。
なので、そういうのは電気で走れるインターフェースを定義することで、～～
後は、モーターモジュールとして、各種性能の違う製品を設計し、それはもちろん電気インターフェースを持っているので、電気自動車として設計された車に実装可能。
そういう風に部品を組み合わせて設計図(クラス)をデザインし、newすることでドンと目の前に製品が出来上がるというイメージ。
最近考えてるのはこういうこと。

データと処理をひとまとめにするなら構造化プログラミングでもできる。
もっとも違うのはデータ中心にまとめるかどうかとういうことか？

車の例にたとえなくても、パソコンでもいいだろう。
メモリというパーツ。メモリを接続するためのPCIExpressというインターフェース。
それらを実装したクラス。
メモリはないので、メモリという抽象クラスを継承した型番○○というメモリを定義して、PCIExpressインターフェースを実装することで、メモリを設計する。
new したらポンを目の前にメモリが落ちる。
後はそれをマザーボードに取り付ける。
インターフェースが違ったらもちろん取り付けられない。
そういう組み合わせをするのがオブジェクト指向であり、現実をデザインできるというのはそういうことではと個人的に思っている。

そういう例で考えるのはいいんだけど、実務に落とし込んだ時、とりわけCRUD処理しかしないシステムにおいてオブジェクト指向はどうなるべきか答えが出ていない。
データ中心に考えるならORマッパーでそのテーブルと処理をひとまとめにして、～～～みたいな感じでまとめるしかないような。
その際、抽象的な概念なんてないし、インターフェースも必要か怪しい。
データベースに保存するSave関数を各クラスが持っているなら、名前が違うだけで動作が異なるポリモーフィズムは実現できるし、不要なデータを外部に公開しないカプセルかも実現できる。
継承は場合によってかもしれないが、データで明確に分かれているなら無理に継承する必要はないんじゃないかって思う。
せめてインターフェースでどういうデータでつながるかって定義する程度ではなかろうか。

---

## 参考リンク

[オブジェクト指向と10年戦ってわかったこと](https://qiita.com/tutinoco/items/6952b01e5fc38914ec4e)  
[オブジェクト指向と20年戦ってわかったこと](https://qiita.com/shibukawa/items/2698b980933367ad93b4)  
[オブジェクト指向と30年戦ってわかったこと](https://twitter.com/yukihiro_matz/status/730032023163691009)  
→オブジェクト指向と30年付き合ってわかったこと: そんなものは実在しない。  
[オブジェクト指向と戦った戦士達の軌跡](http://nmksb.seesaa.net/article/437810253.html)  
[なぜオブジェクト指向は難しいのか](https://qiita.com/tutinoco/items/7f7568cc7dbf7e2276c8)  

[新人プログラマに知っておいてもらいたい人類がオブジェクト指向を手に入れるまでの軌跡](https://qiita.com/hirokidaichi/items/591ad96ab12938878fe1)  

[オブジェクト指向エクササイズのススメ](https://www.slideshare.net/yojik/ss-1033616)  

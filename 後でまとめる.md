# 後でまとめたいやつら

## 予約枠のいつぞやのやつ

バインドがあいまいだった時の話で、もはやこれだけあっても意味がない気がする。  

``` XML
<ControlTemplate.Triggers>
    <!--<DataTrigger Binding="{Binding Text, ElementName=DayOfWeek}" Value="土">
        <Setter Property="Foreground" Value="blue" />
    </DataTrigger>
    <DataTrigger Binding="{Binding Text, ElementName=DayOfWeek}" Value="日">
        <Setter Property="Foreground" Value="red" />
    </DataTrigger>-->
    <DataTrigger Binding="{Binding DayOfWeek}" Value="Saturday">
        <Setter TargetName="DayOfWeek" Property="Foreground" Value="blue" />
    </DataTrigger>
    <DataTrigger Binding="{Binding DayOfWeek}" Value="Sunday">
        <Setter TargetName="DayOfWeek" Property="Foreground" Value="red" />
    </DataTrigger>
</ControlTemplate.Triggers>

<ControlTemplate.Triggers>
    <!--<DataTrigger Binding="{Binding Empty}" Value="True">
        <Setter Property="Visibility" Value="Hidden" />
    </DataTrigger>
    <DataTrigger Binding="{Binding Text, ElementName=Day}" Value="土">
        <Setter Property="Foreground" Value="blue" />
        <Setter TargetName="Border" Property="BorderThickness" Value="1,0,1,1" />
    </DataTrigger>
    <DataTrigger Binding="{Binding Text, ElementName=Day}" Value="日">
        <Setter Property="Foreground" Value="red" />
    </DataTrigger>
    <DataTrigger Binding="{Binding IsSelected}" Value="True">
        <Setter TargetName="Base" Property="Background" Value="{StaticResource MahApps.Brushes.Accent4}" />
    </DataTrigger>-->
    <DataTrigger Binding="{Binding Empty}" Value="True">
        <Setter TargetName="Count" Property="Visibility" Value="Hidden" />
    </DataTrigger>
    <DataTrigger Binding="{Binding DayOfWeek}" Value="Saturday">
        <Setter TargetName="Day" Property="Foreground" Value="blue" />
        <Setter TargetName="Border" Property="BorderThickness" Value="1,0,1,1" />
    </DataTrigger>
    <DataTrigger Binding="{Binding DayOfWeek}" Value="Sunday">
        <Setter TargetName="Day" Property="Foreground" Value="red" />
    </DataTrigger>
    <DataTrigger Binding="{Binding IsSelected}" Value="True">
        <Setter TargetName="Base" Property="Background" Value="{StaticResource MahApps.Brushes.Accent4}" />
    </DataTrigger>
</ControlTemplate.Triggers>
```

---

## DDLについて

[わかりそうデータ定義言語 (DDL)](https://wa3.i-3-i.info/word15639.html)

データ定義言語 (DDL)（英：data definition language）とは

データベースに対する命令の分類のひとつ

であり

データを入れておく箱に対して、あれやこれやをするときに使う命令のこと

です。

image piyo
 詳しく書くよ
順番に見ていきましょう。
まずは予備知識として「データベース」と「SQL」について簡単に説明します。
「そんなの説明されなくても知ってるよ！」な人は、適当に読み飛ばしてください。

データベースは「データを入れておく箱」です。
突っ込んで考えると混乱するかもしれません。
何となくのフィーリングで理解してください。

データ定義言語

SQLは「データベースとやり取りするときに使う言葉」です。

データ定義言語2

データベースにデータを入れるときは、データベースさんに対して「ちょっと、これを入れておいて」と命令します。
反対にデータベースからデータを取り出すときは、データベースさんに対して「ちょっくら、こんなデータを取り出しておくれ」と命令します。
SQLは、そんな命令をするときに使う言葉です。

さて、このSQLを使った命令ですが、大きく分けて3つに分類できます。
それは

１．データをあれこれするときに使う命令
２．データを入れておく箱をあれこれするときに使う命令
３．データベースに対する権限周りをあれこれするときに使う命令

の3つです。

「１．データをあれこれするときに使う命令」はデータそのものに関する命令です。
「この条件に一致するデータを探して」「このデータを入れておけ」「このデータのこの値をこっちの値に変えて」「このデータを削除して」のような命令をするときに使います。

データ定義言語3

「２．データを入れておく箱をあれこれするときに使う命令」はデータを入れておく箱に関する命令です。
「このデータが入る箱を作って」「この箱をもっと大きくして」「この箱は使わないから捨てちゃって」のような命令をするときに使います。

データ定義言語4

「３．データベースに対する権限周りをあれこれするときに使う命令」は使ってイイ人やダメな人を指定するときに使う命令です。
「ピヨ子さんには、この箱の中身は見せないで」「ピヨ太ママには見せていいけど、変更はさせないで」のよう命令をするときに使います。

データ定義言語5

以上を踏まえて、この3種類の命令のうち

２．データを入れておく箱をあれこれするときに使う命令

が「データ定義言語（データテイギゲンゴ）」です。
「DDL（ディーディーエル）」と表現される場合もあります。

データ定義言語6

「DDL」と表現された場合は「Data Definition Language（データ・デフィニション・ランゲージ）」の略です。
気が向いたら覚えてあげてください。

データ定義言語7

※「Data Definition Language」を何となく日本語にすると「データ定義言語」となります。詳細が気になる方はIT略語一覧の「DDL」をご覧ください。


SQLで言えば

・create文
・drop文
・alter文

などがデータ定義言語に相当します。

データベースに命令するときに使う言語はSQLだけではありません。
他にもあります……多分。
よって「データ定義言語」という用語はSQL専用ではありません。
データを入れておく箱をあれこれするときに使う命令（で使う言語）は、すべてデータ定義言語です。

とはいえ、2021年現在の状況では、データベースをあれこれする際にはSQLを使うことが多いでしょう。
「データ定義言語はcreate文とかdrop文とかのこと」と解釈しても、そこまで困ることはないと思います。

ちなみに

１．データをあれこれするときに使う命令

は「データ操作言語（DML）」と言います。

データ定義言語8

あと

３．データベースに対する権限周りをあれこれするときに使う命令

は「データ制御言語（DCL）」と言います。

データ定義言語9

気が向いたら、全部まとめて覚えてあげてください。

・データ操作言語（DML）：データをあれこれ
・データ定義言語（DDL）：箱をあれこれ
・データ制御言語（DCL）：権限をあれこれ

です。

image piyo2
 一言でまとめるよ
まぁ「データ定義言語」って単語が出てきたら「データベースに対する『データを入れておく箱をあれこれしなさい』な命令なんだな～」と、お考えください。


## NULLのLIKE検索

LIKE検索には引っかからない。

## NULLのORDERBY

[NULLと戯れる: ORDER BYとNULL](https://qiita.com/SVC34/items/c23341c79325a0a95979)  
どうにも、NULLを最小値とするか最大値とするかは、RDBMS毎に違ったり、設定で変更出来たりするみたい。  
Oracleは最大値扱いだが、SQLServerは最小値扱い見たい。  
まぁ、どちらにせよ、先頭か末尾であることに違いはないということですね。  

## COUNT(*)の意味とNULLのCOUNT

[COUNT(*)　が何を意味しているのかわからない](https://ja.stackoverflow.com/questions/42915/count-%E3%81%8C%E4%BD%95%E3%82%92%E6%84%8F%E5%91%B3%E3%81%97%E3%81%A6%E3%81%84%E3%82%8B%E3%81%AE%E3%81%8B%E3%82%8F%E3%81%8B%E3%82%89%E3%81%AA%E3%81%84)  
COUNT(*)は行数を数えてくれる。  

``` txt
OracleではCOUNT(*)とCOUNT(age)の結果は異なります。
ageにnullが入っているとCOUNT(age)では件数にカウントされません。
グループ化していても同様で、ageがnullのグループのみ0件となります。
COUNT(*)ではageにnullが入っていてもレコードの件数をカウントします。

COUNT(*)ではレコードの内容を取得するため、COUNT('X')やSUM(1)を使った方が高速化できると教わったことがあります。(10年ほど前に聞いたノウハウなので現在も適用されるのかは不明ですが…)
```

なるほど。COUNTはNULLはカウントしないのね。  
動作的にCOUNT(name)見たいにフィールド名を指定したほうが高速化できるっぽいけど、単純にレコード数を取得したいならCOUNT(*)でいいのか。  

## NULLをキャスト

(NULL AS CHAR)→NULLのまま
NULL -1 = NULL

## 名前付き引数 C#7.0

---

## 雑記

・午前問題を進める


素ってペットボトルに入れられるのかな。
→リンゴ酢程度なら問題ない。黒酢とか強いやつはちょっと考えたほうがいいっぽい。


午前問題の敷居を下げる。
考えなくていい。
答えを見てスクリーンショット取るだけでいい。
わからなかったらすぐ答えてスクリーンショット取る。
それくらい敷居を下げる。
ポンポンやっていく。
200問は確実に押さえないといけないから。
もう覚える方向でいく。


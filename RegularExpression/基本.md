# 正規表現メモ

## 基本

|構文|説明|
|---|---|
|`.`|任意の1文字|
|`*`|直前の文字の0回以上の繰り返し|
|`[]`|[]内の文字のいずれかの1文字|
|`[-]`|範囲指定 例：`[0-9],[A-Z]`|
|`[^]`|～以外|
|`^`|行頭|
|`$`|行末|
|`\`|エスケープシーケンス|

---

## 拡張正規表現  

|構文|説明|
|---|---|
|`+`|直前の文字の1回以上の繰り返し|
|`?`|直前の文字の0回以上の繰り返し|
|`|`|左右のいずれかの記述にマッチする|
|`{n}`|直前の文字のn回の繰り返し|
|`{n,m}`|直前の文字のnからm回の繰り返し|

---

## 文字クラスの省略形

|構文|説明|
|---|---|
|`\d`|数字（[0-9]と同じ）|
|`\D`|数字以外（[^0-9]と同じ）|
|`\w`|単語文字（[A-Za-z0-9_]と同じ）|
|`\W`|単語文字以外（[^A-Za-z0-9_]と同じ）|
|`\s`|空白文字（スペース、タブ、改行など）|
|`\S`|空白文字以外|

---

## グループ化とキャプチャ

|構文|説明|
|---|---|
|`( ... )`|グループ化とキャプチャ。マッチした部分文字列を取得できる。|
|`(?: ... )`|グループ化のみ。キャプチャしない。|

---

## グリーディマッチと非グリーディマッチ

|構文|説明|
|---|---|
|`*?`, `+?`, `??`, `{n,m}?`|非グリーディマッチ。最小限のマッチを返す。|
|`*`, `+`, `?`, `{n,m}`|グリーディマッチ。可能な限り最長のマッチを返す。|

---

## ちょっとした応用

|構文|説明|
|---|---|
|`\n` or `\r\n`|改行コード|
|`^$`|何も文字のない改行だけの行|
|`.*`|任意の0文字以上|
|`.+`|任意の1文字以上|

---

## 肯定先読み・否定先読み、肯定後読み、否定後読み  

|構文|説明|
|---|---|
|`(?=regex)`|直後にregexがある|
|`(?!regex)`|直後にregexが無い|
|`(?<=regex)`|直前にregexがある|
|`(?<!regex)`|直前にregexが無い|

直前にhogeがあり、直後にbarが無いfooにマッチ  

``` less
(?<=hoge)foo(?!bar)
```

直前にhogeが無くて、直後にbarがあるfooにマッチ  

``` less
(?<!hoge)foo(?=bar)
```

[こんどこそわかる(肯|否)定(先|後)読み](https://qiita.com/tohta/items/2ba7ecde5636b38ef1f6)  
[先読みと後読みを使ったパターン](https://www.javadrive.jp/regex-basic/writing/index2.html)  

# 実行計画の見方

---

## Index Seek, Index Scan, Table Scan

速<---------------------------------->遅  
Index Seek >>> Index Scan >>> Table Scan  

>Index Seek  
>Bツリー走査を行います。  
>計算量は二部探索と同じO(logn)となります。  
>
>Index Scan  
>インデックスを上から順に探索します。  
>計算量は線形でO(n)です。  
>
>Table Scan  
>テーブルの全行、全列を順に探索します。  
>テーブルの構造にもよりますが一番重いです。  
>
>[【SQL Server】Index Seek, Index Scan, Table Scanを簡単に解説](https://kojimanotech.com/2021/05/07/300/)  

---

## 実行計画_バッチ相対

>バッチ相対は複数のクエリを相対比較したものになります。  
>ひとつのクエリエディタ内で複数のクエリを実行する場合はバッチ相対の % 表示を利用して、相対的にどのクエリのコストが高いかを確認することができます。  
>内部測定時間に基づいての比較となっているようなので、実際の実行時間で見た場合はコストが低くても時間がかかることがあると思いますが、一連の処理の中でどこを重点的に改善すればよいかの判断を使用するにはバッチ相対のコストを参考にするとよいかと思います。  
>
>[Management Studio で実行プランを確認した際のコストについて](https://blog.engineer-memo.com/2012/07/08/management-studio-%E3%81%A7%E5%AE%9F%E8%A1%8C%E3%83%97%E3%83%A9%E3%83%B3%E3%82%92%E7%A2%BA%E8%AA%8D%E3%81%97%E3%81%9F%E9%9A%9B%E3%81%AE%E3%82%B3%E3%82%B9%E3%83%88%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6/)  

sqlserver 実行プラン バッチ相対

---

いつぞやのやつ

レコード検索にはスキャンとシークの2種類が存在する。  
スキャンはテーブルに存在するデータを全て検索する方法。  
シークはインデックスを活用して検索する方法。  

基本的にシークのほうが早い。  
クエリの実行プランを生成する際に統計情報が参照されるため、定期的な更新が必要となる。  
クエリのパフォーマンスが低下した場合等に考慮する要素の1つとなりえる。  

---

## A5M2の実行計画の見方

[SQLの実行計画の読み方](https://a5m2.mmatsubara.com/wp/?p=20255)

---

[実行計画の処理](https://use-the-index-luke.com/ja/sql/explain-plan/sql-server/operations)  

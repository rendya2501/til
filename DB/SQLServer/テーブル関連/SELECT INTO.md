# SELECT INTO

SELECT ステートメントで取得した結果をもとにテーブルを作成する。  
`INTO句`を利用することで実現できる。  

``` sql
SELECT * INTO <コピー先テーブル名> FROM <コピー元テーブル名>
```

>`コピー元テーブル名`は名前の指定だけあればよい。  
>あらかじめテーブルを作成する必要は無し。  
>実行するとテーブルもSQLServerが自動でテーブルも作成してくれます。  
>※注：ただし、テーブルは規定の領域（なにも設定してなければPrimary）に作られるので、ファイルグループ管理は要注意。  
>[[SQLServer]テーブルをまるっとコピーする方法](https://ameblo.jp/nature3298type-s/entry-10313449987.html)  

---

## 制約はコピーされない

SELECT INTOでは、列名とデータ型、NULLを許可するかどうかは、元のテーブルと同じものがコピーされるが、製薬はコピーされない。  
制約をコピーする場合はスクリプト生成機能を利用すべし。  
制約を設定するスクリプト(ALTER TABLEステートメント)を生成できる。  

---

## テーブル定義のみコピーする

検索結果が0件になるようにWHERE句を設定する。  

``` sql
SELECT * INTO 社員コピー2 FROM 社員 WHERE 0 = 1
```

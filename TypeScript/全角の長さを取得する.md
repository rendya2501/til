
# 全角の長さを取得する

```ts
    /**
     * 全角の長さを取得する
     * 「あ」   = 全角1文字
     * 「あa」  = 全角2文字
     * 「あaa」 = 全角2文字
     * 「あaab」= 全角3文字
     * @param str 判定文字列
     */
    private getZenkakuLength(str: string): number {
        // 半角0.5 は繰り上げる
        return Math.ceil(this.zenkakuCount(str));
    }

    /**
     * 全角数を判定する処理
     * 全角:1
     * 半角:0.5
     * @param str 判定する文字列
     */
    private zenkakuCount(str: string) {
        let length = 0;
        for (let i = 0; i < str.length; i++) {
            if (str[i].match(/[ -~]/)) {
                length += 0.5;
            } else {
                length += 1;
            }
        }
        return length;
    }
```
